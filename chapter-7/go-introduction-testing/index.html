<!doctype html><html lang=fa dir=rtl><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="تست‌نویسی یکی از ارکان حیاتی توسعه نرم‌افزارهای قابل‌اعتماد و نگهدارپذیر است. در دنیای امروز که سرعت توسعه و تغییرات کد روزبه‌روز بیشتر می‌شود، وجود تست‌های دقیق و ساختاریافته تضمین می‌کند که عملکرد نرم‌افزار با تغییرات جدید دچار اختلال نشود. از کشف باگ‌ها گرفته تا مستندسازی رفتار مورد انتظار ماژول‌ها، تست‌ها نقشی فراتر از صرفاً اطمینان‌بخشی دارند. آن‌ها به تیم توسعه جرئت ریفکتور می‌دهند و مرزهای طراحی سیستم را شفاف می‌کنند."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://book.gofarsi.ir/chapter-7/go-introduction-testing/"><meta property="og:site_name" content="زبان گو فارسی"><meta property="og:title" content="7.1 مقدمه‌ای بر تست در Go"><meta property="og:description" content="تست‌نویسی یکی از ارکان حیاتی توسعه نرم‌افزارهای قابل‌اعتماد و نگهدارپذیر است. در دنیای امروز که سرعت توسعه و تغییرات کد روزبه‌روز بیشتر می‌شود، وجود تست‌های دقیق و ساختاریافته تضمین می‌کند که عملکرد نرم‌افزار با تغییرات جدید دچار اختلال نشود. از کشف باگ‌ها گرفته تا مستندسازی رفتار مورد انتظار ماژول‌ها، تست‌ها نقشی فراتر از صرفاً اطمینان‌بخشی دارند. آن‌ها به تیم توسعه جرئت ریفکتور می‌دهند و مرزهای طراحی سیستم را شفاف می‌کنند."><meta property="og:locale" content="fa"><meta property="og:type" content="article"><meta property="article:section" content="chapter-7"><title>7.1 مقدمه‌ای بر تست در Go | زبان گو فارسی</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://book.gofarsi.ir/chapter-7/go-introduction-testing/><link rel=stylesheet href=/book.min.cd8f8bc9e4ca964b4dc52c33addd5868719653b7f329734859463db32feac679.css integrity="sha256-zY+LyeTKlktNxSwzrd1YaHGWU7fzKXNIWUY9sy/qxnk=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/fa.search.min.436d948c4b1a28bab1d430b9c10a8d8377ddac9454c2a44ee67729272027a1c0.js integrity="sha256-Q22UjEsaKLqx1DC5wQqNg3fdrJRUwqRO5ncpJyAnocA=" crossorigin=anonymous></script><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link rel=stylesheet href=prism.css><meta name=keywords content><link href=https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css rel=stylesheet type=text/css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css crossorigin=anonymous><link rel=alternate type=application/rss+xml href=https://book.gofarsi.ir//feed.xml title="زبان گو فارسی"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-one-dark.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZE44Q8PZDW"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZE44Q8PZDW")</script><script>var html=document.documentElement;localStorage.getItem("themeMode")=="dark"&&html.setAttribute("data-theme","dark"),localStorage.getItem("themeMode")=="light"&&html.setAttribute("data-theme","light")</script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script>const themeMode=localStorage.getItem("themeMode")||"light";mermaid.initialize({startOnLoad:!0,theme:themeMode==="dark"?"dark":"light"});const style=document.createElement("style");style.textContent=`
.mermaid {
    display: flex;
    justify-content: center;
    margin: 1em auto;
}
`,document.head.appendChild(style)</script></head><body dir=rtl><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.png alt=Logo class=book-icon><span>زبان گو فارسی</span></a></h2><div class=magic><div class=book-search><input type=text id=book-search-input placeholder=جستجو aria-label=جستجو maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><div class=js-toggle-wrapper><div class=js-toggle><div class=js-toggle-track><div class=js-toggle-track-check><img src="data:image/png;base64,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" role=presentation style=pointer-events:none width=23 height=23></div><div class=js-toggle-track-x><img src=data:image/png;base64,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 role=presentation style=pointer-events:none width=23 height=23></div></div><div class=js-toggle-thumb><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAekAAAHpCAMAAACREDSlAAABTVBMVEUAAADQ8Oam487Q8OZmxslkzqphyLmm486W3sZfw8ai4szH7ONlz6tr0LCa38l61biM28HO8OR/1rqD17xoz62J2r+f4MqO28J31LaG2L1t0bFp0K5007SY38h61bhnxsud4MrL7+NgxcJqx81tyNBxydR107Voz61cxb9ixsVkxsly0rN1ytaS3cRdxMJ21LaS3cWW3sah4sxnz6xv0rKB17xhza1z0rOa38jG7ORr0K+t49m86d7Y8u/c8Pxcxrp5y9i46N1bxbyG2b5307eS3cPG7eF007RfyrF+1rqS3MWW3cep4tZv0rGL2sCG2L+j4NVx0rOD17yz5trU7fRjy7WA1rtuz7iO28KL0OKh1/HA6998yuB+0M6F09OT1d+Y1+Gf4Myz3vbL7uNYxrF0zcmY3siq2fZkzqpmzqtcxrme4cpcx7du0bGG2b0hQFIMAAAAaHRSTlMAHGUh1dnceYHgbCrVy3qxkx+podKWcI+2ncfOvX7T0nMm4M7Hwbn749zZwLmI49yjm4PSxKTcvZIy8lg/DQTjskfnvLaIMOLgzYiBXuyynWvmwE4V2snIq5NtO62rnod8cE4q6r2WXh1mfBMAAA3eSURBVHja7MGBAAAAAICg/akXqQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYPbgQAAAAAAAyP+1EVRVVVVVVVVVVVVVVVVVVWHX7nHbBqIgAO9MIIDYcEmGIm3qp5AbNSqVwE2aAHaTFL7G3P8EsRsDBkRLlLhcesnvBA8YzOPDgrPZbErAV/bvr6eD21Sv3Poxf8n4BmYWB5BJmapVnsxpf3UgmSWpzmt2BExYAHhS+NFGDbSFUxfp/g4wIYC09/lWrRb7l928eE4B7JOukQ+dNUgWR13EZXPaH4BZqau5jDDDAJns1U2ZzGG/x7zUjVYWxjdwVze6Sl7YOWzyUX3Y7Gg8AotUt6j+TbvZ+L5RX1xG4wewq3S7erIHOZhV6tOS8DLlQT1ZkWZ6wFKfGcUhDiZb9enwMLVeg428KNjnkEv1rrqbVK9RyJcGph/ASl7UPybTa2aV/KkS9rO35U0yjVrjWyW/nMXNff4pnxYTWOHgQaeMqTTgVr7tY4+aidqM5jAbZsY0iflrDVuq1Ug6w3unYazirTWWGk5FmO5Ap8FUsb6GI9egroiazzprPPfESOFhrYERI3nOafccX9SsNTyLbl9oDa+JLWqUCqHLfYtGIazjippOHQSJGk5huIiiBhcKhZdeEQeFsonmHwVahZPSXAC/FZI1UUChkDY0Z+GPgkqjWOCsFVbD86tbgR0jiBorhVZz3I1+c/zyC/w/e3ei1EQQhAH47xmXXWMIWQlBhIB4n8UhVxAPCgtBAS8Kr/IsLZv3fwGBEk0iEGans9tL+T0BxV/d2zM7OzG9nL0CjhKXWIG8T+B0lhUoEg5HL1iFvlxHraKid/SS6tad/z1w6mMlyoSDxUoqelctt8tqU2Y1YhyIvrIieZ3K6A7rMWsUbpi0mspnUZNhTUoq19Et8nngSFfQ3E2Kh7Fc929TYV36SHfr3hPkb/42t1gbg2baWvees3nr32aa1XlMaGSmWKOc9W9StL76q4oGdJ5V6slXUavYSf7HVcIf5hwrFSNHaIhVMthH/azVVI6GMtPDOpVJ6RKwSX9u+reCN9Ltitp0s2IEARdGusQtolnMQipD0+WoWijUyr1XK0JFLb8yuPZybHh1a3V4bH6bZSzD36eA5X3pwGmiStRy9SbtiIoy5UIFFjFeH7U7sM9aG86NqTiUsDbD8ro2sUN01umrEg5C8bRE0iJBz09aiwNYO+dd2waeaIXlBffQhNjXU0MdumMmeE4yb823x0OLQ4WT6+ylTPDTxfKCT7Ifa3SfIcJRyDyrcEIvsCtiT8OjFkezk35NnODlR8DyutCEauzK/ZpAEw2yu94SEXaYIvtYnwgt2gvDt5xcRPDwOWB5MwuSvbufOvQldrFsiEQW+xMhjikc5+QMPHTkIf1RsKTPF6gjB5d6Luyn7D2OLYUWx2bD+UySfrAysydIjFsFwUe5/e5iZOCA4iK3d26gRERSc8TSqIUTu8EJ9RKyc3/fJu0T3O8eMnBE3EZ/ZAitIk5qey6EA88Ornzz+wwn1UdwRXT0aGdI9CPpdYsEbNKoq9As+VRbMHBHccAHGXxtibBPaI54FQJpRl2GZjV21HqflH8Dv1Mlog6cYpywQKpRX4ViDp1R6KIPqr8JGuugZKgzX4mFFonZJW4nb0cHY/+g3b2Z+c67umvGkP9fKB80YMdO2EhGs8mCLsCPra0txEQ4hgFO4lpo4cU+YXcR1Kp1oqI1TIwhfFl21w+tHJ7SWd36EHESkxa+7Cq3kaerT2L1GwQ0yAm8tfAXKv/XdP4pXSWkp8oJjIcQYOsnJ2nDh9Gyu0u3PHbGfNlr7KqAI7y7dCodI+/Rop/ddRukqMAJTELInHsZ4HAXA07LRYk9CYIs+VvkNyyEhE+c64BwmMsBp+aKQPOupZs0u9sKIWZZrhC+pBh08M1/AVMhpClmd3XIsWJJn1nh9KygmbnLzpaRqrLHAktmJpNK+iGn6LJ/8+4mtEdSjKmwMwtJi0JJjwScnmDTf9oxaIfis0XO0LCFJCuT9LtUg77uX9I9RvmV28whsk06Pjjpiw1uNLrZ4NRIg0uNLje40uB2o0e/fYZ/0jHaoAucrS0LUXZM9yBzLE/Z1XmSXxXpLmlgkt0sQJ9ZdjWg/iPsVxbCQnazCHXoLrsqqL+3bgLIOOl7UMc9lSKhjYiztR0CGSe9BnXcky6jDSpytlYhzrILlTUdsSuj/mLwOsTZ+dzXdNk9ae1PabaQN5z3pN0P4g2R9l/vmLeQt5H37m3YVaS+pOvY9T/pZka8eWd/66hFByyxk9fQpiSdtBlkV7lI+iU70LhzErGju6R7Le3xGktylfUBwjavnHbyEy0es6MBpb9V/dccOiBkN6OQVZ9hN4H3XmgJRypw5kI4k0+aIOs0+ybNskmbImfuJCb9LUg/aaO9pE9k0r/Yu9PepoEgDMA7Y0UJIbGb5uqt9kuLqAIUWnEKJO5TXEJIwBeEhF7O//8RBwhtadPau2t77M7zC1K9ndnD9u45pPUw26Sp+FE6m6SDlUKTfldDWmfck5a9axKTMPX2nHQNqZ3NNGm6h+JtSEi67TXpD+mTrn1wT1p6SW+YDFxEOrN+m/epv87tOrPr9m+3xm7f+hr7/v3WKeOetPTrl74IeJIFNgW5+ZfxkLTwks5knA5QlqQnfCQte4mFP3NvTdpD0qJ3TTJKeuskJh2aaVYhg/+k68+Qzry8W7MIaS0fcViKDFeMKbakRZ5HRkhrgaR+tzFxwXhWf1X+5m0TD0tP2vvWSR2a9F70BkK4Je2+541NecO0TdJDM4WYpC96ThrpyDzfm5DW9JMS30KIB4GJFfZBrcwz+wn+2vf1NzXI4DdpVGGYNnTJY/s2dyHD1WJLelvgMG3Musf2bWjtdHLfkBHHt0PdDw1tGokaQDHDEP/AfjK3yT6hGs3bbgszIuOMImTG40GS9Q2k1hXZvA3DArkHPcJ/RM7JgjuVKWlDsNBg46iJbL0q7GRvRFKTfg7kP+fgNg4la/ckuIFYBZ5u/GH11/TILegZHE7U5nfwCahO87Y4Ztf9ASzfQ/YuBM5Jw8aSzPlYjJD3fy6vIg9bgVvOa9dgo2OkIlhpW0dNAxxFyKI6uA8rPbElbX2k1Byb6US8/e9yKlnwHjZkPtyY2IadLosdo/96YB11/QpsyF1i/TaEpVm2CLqLHJ23jHrtPKxIHqWdNjH6nDroPnJ1zSbq4CJsRXJH6RgDeVU1R7DyE7Y20kcdbMGS1KdYPk6K22RKkXPzEqz8+AZrG1v1lAX9EtY2JY/SbkWd4nJLogiWmPqwle5hdRA8ggPRvTvGPThYSlbW/Bi2+mRW4eDLlaRlXb8DF7PSkzbLcBJSkpt2YKtNzu+SXwiCREura3DRFt67Yww3i90mmemIG9uwNzTG0ALcrFw8pq6D+p1rcBMa8WgWrpZ4ShMn4gguemxiA7ja+FwPppdzijtKS7lpMjGABzONA2ETh0M4GkxuZHT3aKseHBrzFlIo5wrL82EGUch7hGEEZyOaPEL0YutKvV6fjNpBUI9d2IAPTfHTMRmHr0+zyVnc7fHlwfmVlZXzL+GL2NcEpZ5QchCbiRCSlWDe/Qd1IdI8STo3/KDS7JlIL+oFNrveQ65heZImkc2RRX6J/0+5FljSDh7aq0H7kn4Codrlqeixwq8zO2DIZh+eg0iLZapoiUW9zuY/HYhUii0TgScETrTY/I+Kv83lEP1y9e4Yy9o+aZah78S6JevdY7wOMVoNKkHfiY1KV9Eyrrr6ZyTh1dIEZktY0TGKIMQOyb2Oa5fMg8eEfOyazI78A4d/mytnRY+RiHOmGlSOJUKjrBU9tobiHT320Q6EKHFFx+g+ipXgJnMhW2VyP5ROhl6jWF0ux8K/jOvo/eg6XLmPffKrupzr6P3oKSzkuj6lwifg/dJX9Bh9RFF2yCTSKTjq1QpU9Bi9QDEaXIp3HDe5IkFbRu1/jBZ6K+5SJTp3gdOyVpNMCrSI5HSIFhR1xGYvqTPwVjne4Be8hTJikxaPkIiuoo9Ga8hPi8ikR30koTvdx6BODUcr/C1aGiBPC5Xr3BOdOeQiJGOJeAl5aQ0r2LknuIHszTAZezxEPuYrnHOMmjVkrMHGCXEP2et1qtq483qdPmIqw0utYbUL+g/iy8hKn8jP3LGPDLVGVPmCznYo3PZXKbyMzIxOQj3/RVn0x57XQiF6jUx0q/M0IxEebMOrhWU2fhFF8K01PGE5jxH14c0MkfGPqAGfGtWfbx+OfU3N7mVWKMTzHtv2CRqfs2iQ7ZDIZId4uQV37eZJmW5PQ9xYh731JzmMezyYbQNOv7Ky+9upEK8uwcbMILc6YR7BUjg46dW8F/NMD6m0+sxkckTMXaTVmucTONc+BvFgZxFJ1NrPm0wmf8T85G4LCS3urGrK0xB1mo1hhGmix6c7nYJ7IVGnM5qvYbpWd6bZbGrKxyOOheFy/+72QnuxvT03+zgMOSZovKPxL+wv7Av48nD8M7VdVxHtIejfUCmllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSv1qDw4JAAAAAAT9f+0LEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAjNZdi2dVsiyAAAAAElFTkSuQmCC role=presentation style=pointer-events:none width=46 height=46></div><input class=js-toggle-screenreader-only type=checkbox aria-label="تغییر تم بین روشن و تاریک"></div></div></div><ul><li><a href=/preface/>پیشگفتار</a></li><li><a href=/history/>تاریخچه</a></li><li><a href=/why-go/>چرا زبان Go؟</a></li><li><a href=/installation/>آموزش نصب</a></li><li><a href=/toolchain/>ابزارها, دستورات گو و معرفی IDE</a></li><li><a href=/roadmap/>نقشه یادگیری زبان گو</a></li><li><a href=/interview/>نمونه سوالات مصاحبه</a></li><li><input type=checkbox id=section-c0c35ea61c635f6152f0c00d6a15569e class=toggle>
<label for=section-c0c35ea61c635f6152f0c00d6a15569e class=flex><a href=/chapter-1/ class=flex-auto>فصل اول: آشنایی با مفاهیم گو</a></label><ul><li><a href=/chapter-1/structure-of-go-code/>1.1 ساختار کد گو</a></li><li><a href=/chapter-1/go-built-in-keywords-identifiers/>1.2 کلید واژه و شناسه‌ها</a></li><li><a href=/chapter-1/go-basic-types/>1.3 تایپ‌های پایه</a></li><li><a href=/chapter-1/go-operators/>1.4 عملگرها</a></li><li><a href=/chapter-1/go-variables-and-consts/>1.5 متغیرها و constant</a></li><li><a href=/chapter-1/go-zero-values/>1.6 مقادیر صفر تایپ‌ها (zero values)</a></li><li><a href=/chapter-1/go-function/>1.7 تابع (function)</a></li><li><a href=/chapter-1/go-array/>1.8 آرایه و slice</a></li><li><a href=/chapter-1/go-for/>1.9 حلقه‌ها (for)</a></li><li><a href=/chapter-1/go-map/>1.10 نقشه map</a></li><li><a href=/chapter-1/go-if-switch/>1.11 شرط (if, switch)</a></li><li><a href=/chapter-1/go-package/>1.12 اضافه کردن پکیج در کد (package)</a></li><li><a href=/chapter-1/go-defer-panic-recovery/>1.13 defer, panic, recovery</a></li><li><a href=/chapter-1/go-builtins/>1.14 لیست تایپ‌ها و توابع Builtin</a></li><li><a href=/chapter-1/go-string-formatting/>1.15 قالب بندی رشته‌ها</a></li></ul></li><li><input type=checkbox id=section-ce9b5b1ec927bacdb2712b9c215a3ca1 class=toggle>
<label for=section-ce9b5b1ec927bacdb2712b9c215a3ca1 class=flex><a href=/chapter-2/ class=flex-auto>فصل دوم: مکانیزم‌های زبان</a></label><ul><li><a href=/chapter-2/pointer/>2.1 اشاره‌گر (Pointer)</a></li><li><a href=/chapter-2/struct/>2.2 ساختار (struct)</a></li><li><a href=/chapter-2/method/>2.3 متد (Method)</a></li><li><a href=/chapter-2/interface/>2.4 اینترفیس (Interface)</a></li><li><a href=/chapter-2/type-embedding/>2.5 جاسازی تایپ (type embedding)</a></li><li><a href=/chapter-2/error-handling/>2.6 مدیریت خطاها</a></li><li><a href=/chapter-2/casting-vs-conversion/>2.7 فرق casting با conversion</a></li></ul></li><li><input type=checkbox id=section-0691270142e95f82c4d2eb637f234afd class=toggle>
<label for=section-0691270142e95f82c4d2eb637f234afd class=flex><a href=/chapter-3/ class=flex-auto>فصل سوم: همزمانی (concurrency)</a></label><ul><li><a href=/chapter-3/go-concurrency/>3.1 آشنایی با همزمانی</a></li><li><a href=/chapter-3/goroutine/>3.2 گوروتین (goroutine)</a></li><li><a href=/chapter-3/go-sync-package/>3.3 پکیج sync</a></li><li><a href=/chapter-3/go-atomic/>3.4 پکیج atomic</a></li><li><a href=/chapter-3/goroutine-data-race/>3.5 آموزش مقابله با data race</a></li><li><a href=/chapter-3/go-channel/>3.6 کانال (channel)</a></li><li><a href=/chapter-3/go-select/>3.7 آموزش استفاده از select</a></li><li><a href=/chapter-3/go-context/>3.8 پکیج context</a></li><li><a href=/chapter-3/go-concurrency-teqniques/>3.9 تکنیک های همزمانی</a></li><li><a href=/chapter-3/go-concurrency-patterns/>3.10 الگو های همزمانی</a></li></ul></li><li><input type=checkbox id=section-59efe912b32b5b1290d5ec2dac84f441 class=toggle>
<label for=section-59efe912b32b5b1290d5ec2dac84f441 class=flex><a href=/chapter-4/ class=flex-auto>فصل چهارم: مباحث پیشرفته</a></label><ul><li><a href=/chapter-4/build-go-file/>4.1 آموزش Build پروژه</a></li><li><a href=/chapter-4/debugging-go-code/>4.2 آموزش کار با Debugging</a></li><li><a href=/chapter-4/go-mod/>4.3 آموزش کار با go mod</a></li><li><a href=/chapter-4/workspace/>4.4 آموزش کار با workspace</a></li><li><a href=/chapter-4/vendor/>4.5 آموزش کار با Vendor</a></li><li><a href=/chapter-4/command-line-go/>4.6 آموزش نوشتن برنامه command line</a></li><li><a href=/chapter-4/work-with-file-in-go/>4.7 آموزش کار با فایل</a></li><li><a href=/chapter-4/work-with-json-file-in-go/>4.8 آموزش کار با json</a></li><li><a href=/chapter-4/work-with-toml-file-in-go/>4.9 آموزش کار با toml</a></li><li><a href=/chapter-4/work-with-yaml-file-in-go/>4.10 آموزش کار با yaml</a></li><li><a href=/chapter-4/work-with-csv-file-in-go/>4.11 آموزش کار با csv</a></li><li><a href=/chapter-4/work-with-ini-file-in-go/>4.12 آموزش کار با ini</a></li><li><a href=/chapter-4/work-with-environment-variable/>4.13 آموزش کار با environment variable</a></li><li><a href=/chapter-4/go-regular-expressions/>4.14 آموزش کار با regexp</a></li><li><a href=/chapter-4/go-reflection/>4.15 آموزش reflection</a></li><li><a href=/chapter-4/go-generator/>4.16 آموزش generator</a></li><li><a href=/chapter-4/go-stringer/>4.17 آموزش stringer</a></li><li><a href=/chapter-4/effective-go/>4.18 تکنیک های کدنویسی زبان گو</a></li><li><a href=/chapter-4/go-commentry/>4.19 اصول کامنت نویسی</a></li><li><a href=/chapter-4/go-code-rules/>4.20 قوانین کدنویسی در گو</a></li><li><a href=/chapter-4/go-garbage-collector/>4.21 زباله جمع کن (garbage collector)</a></li><li><a href=/chapter-4/go-plugin/>4.22 کتابخانه Plugin</a></li><li><input type=checkbox id=section-687c92e06ed3c05242e60a3a1a266aa4 class=toggle>
<label for=section-687c92e06ed3c05242e60a3a1a266aa4 class=flex><a href=/chapter-4/oop/ class=flex-auto>4.23 شی گرایی در زبان گو</a></label><ul><li><a href=/chapter-4/oop/go-encapsulation/>4.23.1 کپسوله سازی (Encapsulation)</a></li><li><a href=/chapter-4/oop/go-inheritance/>4.22.2 ارث بری</a></li><li><a href=/chapter-4/oop/go-polymorphism/>4.23.3 پلی مورفیسم (Polymorphism)</a></li><li><a href=/chapter-4/oop/go-overriding/>4.23.4 overriding</a></li><li><a href=/chapter-4/oop/go-abstraction/>4.23.5 abstraction</a></li></ul></li><li><a href=/chapter-4/tracing/>4.24 آموزش tracing</a></li><li><a href=/chapter-4/profiling/>4.25 آموزش profiling</a></li><li><a href=/chapter-4/go-project-layout/>4.26 ساختار پروژه</a></li><li><a href=/chapter-4/go-io-package/>4.27 آموزش کار با پکیج io</a></li></ul></li><li><input type=checkbox id=section-134502b5358f6cf5c83ad497f832087a class=toggle>
<label for=section-134502b5358f6cf5c83ad497f832087a class=flex><a href=/chapter-5/ class=flex-auto>فصل پنجم: برنامه نویسی شبکه با گو</a></label><ul><li><a href=/chapter-5/network-basic/>5.1 شبکه چیست</a></li><li><a href=/chapter-5/go-tcp-server-begginer/>5.2 سرور tcp مقدماتی</a></li><li><a href=/chapter-5/go-tcp-server-advanced/>5.3 سرور tcp پیشرفته</a></li><li><a href=/chapter-5/go-udp-server-begginer/>5.4 سرور udp مقدماتی</a></li><li><a href=/chapter-5/go-udp-server-advanced/>5.5 سرور udp پیشرفته</a></li><li><a href=/chapter-5/go-http-server-begginer/>5.6 کتابخانه http سمت سرور مقدماتی</a></li><li><a href=/chapter-5/go-http-server-advanced/>5.7 کتابخانه http سمت سرور پیشرفته</a></li><li><a href=/chapter-5/go-http-client-begginer/>5.8 کتابخانه http سمت کلاینت مقدماتی</a></li><li><a href=/chapter-5/go-http-client-advanced/>5.9 کتابخانه http سمت کلاینت پیشرفته</a></li><li><a href=/chapter-5/go-quic-prtoocol/>5.10 پروتکل quic</a></li></ul></li><li><input type=checkbox id=section-6f78676abc6f42fefd423ea7de4e1c4d class=toggle>
<label for=section-6f78676abc6f42fefd423ea7de4e1c4d class=flex><a href=/chapter-6/ class=flex-auto>فصل ششم: ژنریک ها (Generics)</a></label><ul><li><a href=/chapter-6/go-generics-basic/>6.1 مقدمه و اهمیت ژنریک‌ها</a></li><li><a href=/chapter-6/go-generics-fundamentals/>6.2 مبانی ژنریک‌ها در Go</a></li><li><a href=/chapter-6/go-generics-syntax-and-structure/>6.3 سینتکس و ساختار ژنریک‌ها در Go</a></li><li><a href=/chapter-6/go-generics-type-sets-and-constraints/>6.4 Constraints و Type Sets</a></li><li><a href=/chapter-6/go-generics-examples-and-practical/>6.5 مثال‌ها و کاربردهای عملی ژنریک‌ها</a></li><li><a href=/chapter-6/comparing-generics/>6.6 مقایسه ژنریک‌ها با راهکارهای قبل از Go 1.18</a></li><li><a href=/chapter-6/limitations-errors-and-anti-patterns-in-generics/>6.7 محدودیت‌ها، خطاها و ضدالگوها در ژنریک‌ها</a></li><li><a href=/chapter-6/generics-best-practice/>6.8 بهترین شیوه‌های استفاده از ژنریک‌ها (Best Practices)</a></li><li><a href=/chapter-6/generics-advanced-examples-and-tips/>6.9 مثال‌های پیشرفته و نکات ویژه</a></li></ul></li><li><input type=checkbox id=section-8f5df719cb6867058bc4273b800e1879 class=toggle checked>
<label for=section-8f5df719cb6867058bc4273b800e1879 class=flex><a href=/chapter-7/ class=flex-auto>فصل هفتم: تست نویسی</a></label><ul><li><a href=/chapter-7/go-introduction-testing/ class=active>7.1 مقدمه‌ای بر تست در Go</a></li><li><a href=/chapter-7/go-unit-testing/>7.2 تست واحد (Unit Test)</a></li><li><a href=/chapter-7/go-table-driven-tests/>7.3 تست جدول‌محور (Table-Driven Test)</a></li><li><a href=/chapter-7/go-integration-testing/>7.4 تست یکپارچه (Integration Test)</a></li></ul></li><li><input type=checkbox id=section-46582e13a18a41adc7936c360b185ec8 class=toggle>
<label for=section-46582e13a18a41adc7936c360b185ec8 class=flex><a href=/chapter-8/ class=flex-auto>فصل هشتم: پکیج های استاندارد</a></label><ul></ul></li><li><input type=checkbox id=section-7b4fd75e0c8dddcfaf05d2809955458b class=toggle>
<label for=section-7b4fd75e0c8dddcfaf05d2809955458b class=flex><a href=/chapter-9/ class=flex-auto>فصل نهم: الگوهای طراحی</a></label><ul><li><input type=checkbox id=section-91fecfeb90059a6577f742161c3cc416 class=toggle>
<label for=section-91fecfeb90059a6577f742161c3cc416 class=flex><a href=/chapter-9/creational-patterns/ class=flex-auto>9.1 الگوهای طراحی سازنده</a></label><ul><li><a href=/chapter-9/creational-patterns/go-singleton-pattern/>9.1.1 الگو Singleton</a></li><li><a href=/chapter-9/creational-patterns/go-factory-method-pattern/>9.1.2 الگو Factory Method</a></li><li><a href=/chapter-9/creational-patterns/go-prototype-pattern/>9.1.3 الگو Prototype</a></li><li><a href=/chapter-9/creational-patterns/go-abstract-factory-pattern/>9.1.4 الگو Abstract Factory</a></li><li><a href=/chapter-9/creational-patterns/go-builder-pattern/>9.1.6 الگو Builder</a></li><li><a href=/chapter-9/creational-patterns/go-object-pool-pattern/>9.1.7 الگو Object Pool</a></li></ul></li><li><input type=checkbox id=section-0bf1b67244bd7a1b2067d73a9ac05c84 class=toggle>
<label for=section-0bf1b67244bd7a1b2067d73a9ac05c84 class=flex><a href=/chapter-9/structural-patterns/ class=flex-auto>9.2 الگوهای طراحی ساختاری</a></label><ul><li><a href=/chapter-9/structural-patterns/go-adaptor-pattern/>9.2.1 الگو Adaptor</a></li><li><a href=/chapter-9/structural-patterns/go-bridge-pattern/>9.2.2 الگو Bridge</a></li><li><a href=/chapter-9/structural-patterns/go-composite-pattern/>9.2.3 الگو Composite</a></li><li><a href=/chapter-9/structural-patterns/go-decorator-pattern/>9.2.1 الگو Decorator</a></li><li><a href=/chapter-9/structural-patterns/go-facade-pattern/>9.2.5 الگو Facade</a></li><li><a href=/chapter-9/structural-patterns/go-flyweight-pattern/>9.2.6 الگو Flyweight</a></li><li><a href=/chapter-9/structural-patterns/go-proxy-pattern/>9.2.7 الگو Proxy</a></li></ul></li><li><input type=checkbox id=section-67e202f99a50c1e49347339369c874b1 class=toggle>
<label for=section-67e202f99a50c1e49347339369c874b1 class=flex><a href=/chapter-9/behavioral-patterns/ class=flex-auto>9.3 الگوهای طراحی رفتاری</a></label><ul><li><a href=/chapter-9/behavioral-patterns/go-chain-of-responsibility-pattern/>9.3.1 الگو Chain Of Responsibility</a></li><li><a href=/chapter-9/behavioral-patterns/go-command-pattern/>9.3.2 الگو Command</a></li><li><a href=/chapter-9/behavioral-patterns/go-iterator-pattern/>9.3.3 الگو Iterator</a></li><li><a href=/chapter-9/behavioral-patterns/go-mediator-pattern/>9.3.4 الگو Mediator</a></li><li><a href=/chapter-9/behavioral-patterns/go-memento-pattern/>9.3.5 الگو Memento</a></li><li><a href=/chapter-9/behavioral-patterns/go-observer-pattern/>9.3.6 الگو Observer</a></li><li><a href=/chapter-9/behavioral-patterns/go-state-pattern/>9.3.7 الگو State</a></li><li><a href=/chapter-9/behavioral-patterns/go-strategy-pattern/>9.3.8 الگو Strategy</a></li><li><a href=/chapter-9/behavioral-patterns/go-template-method-pattern/>9.3.9 الگو Template Method</a></li><li><a href=/chapter-9/behavioral-patterns/go-visitor-pattern/>9.3.10 الگو Visitor</a></li></ul></li><li><input type=checkbox id=section-a8aa81f62696e9f9c69a81a3318a50eb class=toggle>
<label for=section-a8aa81f62696e9f9c69a81a3318a50eb class=flex><a href=/chapter-9/concurrency-patterns/ class=flex-auto>9.4 الگوهای همزمانی</a></label><ul><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-wait-for-result/>9.4.1 الگو Wait For Result</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-fan-out-in/>9.4.2 الگو Fan Out/In</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-wait-for-task/>9.4.3 الگو Wait For Task</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-worker-pool/>9.4.4 الگوی Worker Pool</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-drop/>9.4.5 الگو Drop</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-cancellation/>9.4.6 الگو Context Cancellation Pattern</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-semaphore/>9.4.7 الگو Semaphore</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-retry-timeout/>9.4.8 الگو Retry Timeout</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-producer-consumer/>9.4.9 الگو Producer-Consumer</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-monitor/>9.4.10 الگو Monitor</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-future/>9.4.11 الگو Future</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-pipeline/>9.4.12 الگو Pipeline</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-subscription/>9.4.13 الگو Subscription</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-brdige-channel/>9.4.14 الگو Bridge Channel</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-queuing/>9.4.15 الگو Queuing</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-ratelimit/>9.4.16 الگو Rate limit</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-deadlock-recovery/>9.4.17 الگو Deadlock Recovery</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-channel-cancellation/>9.4.18 الگو Channel Cancellation</a></li><li><a href=/chapter-9/concurrency-patterns/go-concurrency-pattern-lock-free-synchronization/>9.4.19 الگو Lock-free synchronization</a></li></ul></li><li><input type=checkbox id=section-d4428d0313ccb2e3380b00740324e064 class=toggle>
<label for=section-d4428d0313ccb2e3380b00740324e064 class=flex><a href=/chapter-9/cloud-native-patterns/ class=flex-auto>9.5 الگوهای Cloud Native</a></label><ul><li><a href=/chapter-9/cloud-native-patterns/go-cloud-native-circuit-breaker-pattern/>9.5.1 الگو Circuit Breaker</a></li><li><a href=/chapter-9/cloud-native-patterns/go-cloud-native-debounce-pattern/>9.5.2 الگو Debounce</a></li><li><a href=/chapter-9/cloud-native-patterns/go-cloud-native-retry-pattern/>9.5.3 الگو Retry</a></li><li><a href=/chapter-9/cloud-native-patterns/go-cloud-native-throttle-pattern/>9.5.4 الگو Throttle</a></li><li><a href=/chapter-9/cloud-native-patterns/go-cloud-native-timeout-pattern/>9.5.5 الگو Timeout</a></li></ul></li><li><input type=checkbox id=section-d2db70ad636838c12fc76435099656ac class=toggle>
<label for=section-d2db70ad636838c12fc76435099656ac class=flex><a href=/chapter-9/anti-pattern/ class=flex-auto>9.6 ضد الگوها (Anti-Patterns)</a></label><ul><li><a href=/chapter-9/anti-pattern/go-anti-patterns-in-syntax/>9.6.1 ضد الگو سینتکسی</a></li></ul></li><li><a href=/chapter-9/solid-principle-in-golang/>9.7 اصول SOLID</a></li></ul></li><li><input type=checkbox id=section-109a423730eebb4b9e804ab6e8dc6af0 class=toggle>
<label for=section-109a423730eebb4b9e804ab6e8dc6af0 class=flex><a href=/chapter-10/ class=flex-auto>فصل دهم: الگوریتم و ساختار داده</a></label><ul><li><a href=/chapter-10/10.1--data-structures-queue-stack-lists/>10.1 Data Structures (Queue Stack Lists)</a></li></ul></li><li><input type=checkbox id=section-0736842d303fef477d0a09e8de4a0d85 class=toggle>
<label for=section-0736842d303fef477d0a09e8de4a0d85 class=flex><a href=/chapter-11/ class=flex-auto>فصل یازدهم: معماری های نرم افزار</a></label><ul></ul></li><li><input type=checkbox id=section-efb5b19050ead65a76618516db266d2d class=toggle>
<label for=section-efb5b19050ead65a76618516db266d2d class=flex><a href=/chapter-12/ class=flex-auto>فصل دوازدهم: شبکه بلاکچین</a></label><ul><li><input type=checkbox id=section-ee81a41ef810f317eba2e67d447c0ec4 class=toggle>
<label for=section-ee81a41ef810f317eba2e67d447c0ec4 class=flex><a href=/chapter-12/blockchain/ class=flex-auto>12.1 بلاکچین</a></label><ul><li><a href=/chapter-12/blockchain/blockchain/>12.1.1 بلاکچین چیست</a></li><li><a href=/chapter-12/blockchain/blockchain-history/>12.1.2 تاریخچه بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-architecture/>12.1.3 معماری بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-type/>12.1.4 انواع بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-different-with-centerlized/>12.1.5 تفاوت سیستم متمرکز با غیرمتمرکز</a></li><li><a href=/chapter-12/blockchain/blockchain-scale/>12.1.6 مقیاس پذیری در بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-security/>12.1.7 امنیت در بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-cryptography/>12.1.8 مفاهیم رمزنگاری</a></li><li><a href=/chapter-12/blockchain/blockchain-consensus-algorithm/>12.1.10 الگوریتم اجماع (Consensus)</a></li><li><a href=/chapter-12/blockchain/blockchain-p2p-network/>12.1.11 ساختار و کاربرد شبکه P2P</a></li><li><a href=/chapter-12/blockchain/blockchain-data-management/>12.1.12 مدیریت داده در بلاکچین</a></li><li><a href=/chapter-12/blockchain/blockchain-network-testing/>12.1.13 تست پذیری شبکه</a></li><li><a href=/chapter-12/blockchain/blockchain-analyze-and-optimization/>12.1.14 ارزیابی و بهینه سازی شبکه</a></li><li><a href=/chapter-12/blockchain/blockchain-monitoring/>12.1.15 مانیتورینگ شبکه</a></li><li><a href=/chapter-12/blockchain/blockchain-forking/>12.1.16 استراتژی فورک ها</a></li><li><a href=/chapter-12/blockchain/blockchain-api-and-sdk/>12.1.17 پیاده سازی انواع API ها و SDK ها</a></li><li><a href=/chapter-12/blockchain/blockchain-keys-and-addresses/>12.1.18 کلیدها و آدرس ها</a></li><li><a href=/chapter-12/blockchain/blockchain-accounts/>12.1.19 اکانت ها</a></li><li><a href=/chapter-12/blockchain/blockchain-transactions-and-messages/>12.1.20 تراکنش ها و پیام ها</a></li><li><a href=/chapter-12/blockchain/blockchain-blocks/>12.1.21 بلوک ها (Blocks)</a></li><li><a href=/chapter-12/blockchain/blockchain-genesis/>12.1.22 جنسیس (Genesis)</a></li><li><a href=/chapter-12/blockchain/blockchain-smart-contracts/>12.1.23 قراردادهای هوشمند</a></li><li><a href=/chapter-12/blockchain/blockchain-privacy/>12.1.24 حریم خصوصی شبکه</a></li></ul></li><li><input type=checkbox id=section-3a22b13c7bb1ba964a59c01435868bd6 class=toggle>
<label for=section-3a22b13c7bb1ba964a59c01435868bd6 class=flex><a href=/chapter-12/bitcoin/ class=flex-auto>12.2 شبکه بیت کوین</a></label><ul><li><a href=/chapter-12/bitcoin/bitcoin/>12.2.1 معرفی بیت کوین</a></li><li><a href=/chapter-12/bitcoin/bitcoin-cryptography/>12.2.2 رمزنگاری در بیت کوین</a></li><li><a href=/chapter-12/bitcoin/bitcoin-addresses/>12.2.3 آدرس ها</a></li><li><a href=/chapter-12/bitcoin/bitcoin-transactions/>12.2.4 تراکنش ها</a></li><li><a href=/chapter-12/bitcoin/bitcoin-structure/>12.2.5 ساختار بلاکچین بیت کوین</a></li><li><a href=/chapter-12/bitcoin/bitcoin-consensus/>12.2.6 الگوریتم اجماع</a></li><li><a href=/chapter-12/bitcoin/bitcoin-miners/>12.2.7 ماینرها</a></li><li><a href=/chapter-12/bitcoin/bitcoin-network/>12.2.8 شبکه</a></li><li><a href=/chapter-12/bitcoin/bitcoin-wallets/>12.2.9 والت ها</a></li><li><a href=/chapter-12/bitcoin/bitcoin-in-real-world/>12.2.10 بیت کوین در دنیای واقعی</a></li><li><a href=/chapter-12/bitcoin/bitcoin-innovation/>12.2.11 نوآوری</a></li><li><a href=/chapter-12/bitcoin/bitcoin-clients/>12.2.12 کلاینت ها</a></li><li><a href=/chapter-12/bitcoin/bitcoin-programming/>12.2.13 برنامه نویسی در بیت کوین</a></li></ul></li><li><input type=checkbox id=section-b9f4acac44a727569ffab43028a36441 class=toggle>
<label for=section-b9f4acac44a727569ffab43028a36441 class=flex><a href=/chapter-12/ethereum/ class=flex-auto>12.3 شبکه اتریوم</a></label><ul><li><a href=/chapter-12/ethereum/ethereum/>12.3.1 معرفی اتریوم</a></li><li><a href=/chapter-12/ethereum/ethereum-cryptography/>12.3.2 رمزنگاری</a></li><li><a href=/chapter-12/ethereum/ethereum-keys-and-addresses/>12.3.3 آدرس ها و کلیدها</a></li><li><a href=/chapter-12/ethereum/ethereum-accounts/>12.3.4 اکانت ها</a></li><li><a href=/chapter-12/ethereum/ethereum-transactions-and-messages/>12.3.5 تراکنش ها و پیام ها</a></li><li><a href=/chapter-12/ethereum/ethereum-virtual-machine/>12.3.6 ماشین مجازی اتریوم</a></li><li><a href=/chapter-12/ethereum/ethereum-blocks/>12.3.7 بلاک ها</a></li><li><a href=/chapter-12/ethereum/ethereum-consensus/>12.3.8 الگوریتم اجماع</a></li><li><a href=/chapter-12/ethereum/ethereum-nodes-and-miners/>12.3.9 نودها و ماینرها</a></li><li><a href=/chapter-12/ethereum/ethereum-network/>12.3.10 شبکه</a></li><li><a href=/chapter-12/ethereum/ethereum-smart-contracts/>12.3.11 قراردادهای هوشمند</a></li><li><a href=/chapter-12/ethereum/ethereum-wallets-and-clients/>12.3.12 والت ها و کلاینت ها</a></li><li><a href=/chapter-12/ethereum/go-ethereum/>12.3.13 معرفی go-ethereum</a></li><li><a href=/chapter-12/ethereum/work-with-accounts/>12.3.14 کار با اکانت ها</a></li><li><a href=/chapter-12/ethereum/transactions-on-ethereum/>12.3.15 تراکنش برروی اتریوم</a></li><li><a href=/chapter-12/ethereum/read-write-in-smart-contracts/>12.3.16 نوشتن و ارتباط با قراردادهای هوشمند</a></li><li><a href=/chapter-12/ethereum/abi-and-bin-file/>12.3.17 آشنایی با فایل ABI و bytecode</a></li><li><a href=/chapter-12/ethereum/event-logs/>12.3.18 خواندن و دریافت لحظه ای لاگ های کانترکت ها</a></li><li><a href=/chapter-12/ethereum/signature/>12.3.19 ایجاد و تایید امضا</a></li><li><a href=/chapter-12/ethereum/geth/>12.3.20 کار با geth</a></li><li><a href=/chapter-12/ethereum/protocol-swarm-and-whisper/>12.3.21 کار با پروتکل whisper و swarm</a></li></ul></li><li><input type=checkbox id=section-71c1e946dcbe629ce566392c9ba8a5bd class=toggle>
<label for=section-71c1e946dcbe629ce566392c9ba8a5bd class=flex><a href=/chapter-12/pactus/ class=flex-auto>12.4 شبکه پکتوس</a></label><ul><li><a href=/chapter-12/pactus/pactus/>12.4.1 معرفی پکتوس</a></li><li><a href=/chapter-12/pactus/pactus-roadmap/>12.4.2 نقشه راه و اهداف</a></li><li><a href=/chapter-12/pactus/pactus-cryptography/>12.4.3 رمزنگاری</a></li><li><a href=/chapter-12/pactus/pactus-addresses-and-keys/>12.4.4 آدرس ها و کلیدها</a></li><li><a href=/chapter-12/pactus/pactus-accounts/>12.4.5 اکانت ها</a></li><li><a href=/chapter-12/pactus/pactus-transactions-and-messages/>12.4.6 تراکنش ها و پیغام ها</a></li><li><a href=/chapter-12/pactus/pactus-consensus/>12.4.7 الگوریتم اجماع</a></li><li><a href=/chapter-12/pactus/pactus-client/>12.4.8 کار با کلاینت</a></li><li><a href=/chapter-12/pactus/pactus-smart-contracts/>12.4.9 قراردادهای هوشمند (بزودی)</a></li></ul></li></ul></li></ul><a class="book-btn gray" href=https://github.com/GoFarsi/book>مخزن کتاب</a>
<a class=book-btn href=https://github.com/GoFarsi/book/blob/main/COUNTRIBUTING.md>مشارکت در کتاب زبان گو</a><center><p><img alt="GitHub Repo stars" src=https://img.shields.io/github/stars/GoFarsi/book> <img alt=GitHub src=https://img.shields.io/github/license/gofarsi/book> <img alt="GitHub contributors" src=https://img.shields.io/github/contributors/gofarsi/book></p></center></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>7.1 مقدمه‌ای بر تست در Go</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"></br><main><div class=wrapper><a href=https://t.me/GolangEngineers class="icon telegram" target=_blank><div class=tooltip>گروه تلگرامی مهندسین گولنگ</div><span><i class="fab fa-telegram"></i></span>
</a><a href=https://linkedin.com/in/Ja7ad class="icon linkedin" target=_blank><div class=tooltip>لینکدین نویسنده</div><span><i class="fab fa-linkedin"></i></span>
</a><a href=https://twitter.com/Ja7adR class="icon twitter" target=_blank><div class=tooltip>توییتر نویسنده</div><span><i class="fab fa-twitter"></i></span></a></div></main></br></br><nav id=TableOfContents><ul><li><ul><li><a href=#711-جایگاه-تست-در-چرخه-توسعه-نرمافزار>7.1.1 جایگاه تست در چرخه توسعه نرم‌افزار</a><ul><li><a href=#7111-تست-به-عنوان-بخشی-از-طراحی-سیستم>7.1.1.1 تست به عنوان بخشی از طراحی سیستم</a></li><li><a href=#7112-تست-به-عنوان-مستند-رفتاری-سیستم>7.1.1.2 تست به عنوان مستند رفتاری سیستم</a></li><li><a href=#7113-تست-به-عنوان-سپر-تغییرات>7.1.1.3 تست به عنوان سپر تغییرات</a></li><li><a href=#7114-تست-در-go-اولویت-یا-گزینه>7.1.1.4 تست در Go: اولویت یا گزینه؟</a></li></ul></li><li><a href=#712-مزایای-تستنویسی-در-go>7.1.2 مزایای تست‌نویسی در Go</a><ul><li><a href=#7121-سادهسازی-فرآیند-تستنویسی>7.1.2.1 ساده‌سازی فرآیند تست‌نویسی</a></li><li><a href=#7122-سرعت-بالا-در-اجرا>7.1.2.2 سرعت بالا در اجرا</a></li><li><a href=#7123-پوشش-طیف-متنوعی-از-تستها>7.1.2.3 پوشش طیف متنوعی از تست‌ها</a></li><li><a href=#7124-پشتیبانی-از-ابزارهای-جانبی-و-شخص-ثالث>7.1.2.4 پشتیبانی از ابزارهای جانبی و شخص ثالث</a></li><li><a href=#7125-ادغام-آسان-با-cicd>7.1.2.5 ادغام آسان با CI/CD</a></li><li><a href=#7126-پایداری-و-نگهداری-آسان-تستها>7.1.2.6 پایداری و نگهداری آسان تست‌ها</a></li></ul></li><li><a href=#713-رویکرد-زبان-go-به-تستنویسی>7.1.3 رویکرد زبان Go به تست‌نویسی</a><ul><li><a href=#7131-استفاده-از-ابزارهای-رسمی-و-داخلی>7.1.3.1 استفاده از ابزارهای رسمی و داخلی</a></li><li><a href=#7132-سادگی-در-تعریف-تستها>7.1.3.2 سادگی در تعریف تست‌ها</a></li><li><a href=#7133-سبک-مینیمال-و-بدون-چارچوب>7.1.3.3 سبک مینیمال و بدون چارچوب</a></li><li><a href=#7134-پشتیبانی-طبیعی-از-انواع-تست>7.1.3.4 پشتیبانی طبیعی از انواع تست</a></li><li><a href=#7135-طراحی-برای-توسعهدهنده-نه-ابزار>7.1.3.5 طراحی برای توسعه‌دهنده، نه ابزار</a></li></ul></li><li><a href=#714-اصول-و-قراردادهای-تست-در-go>7.1.4 اصول و قراردادهای تست در Go</a><ul><li><a href=#7141-ساختار-فایلهای-تست>7.1.4.1 ساختار فایل‌های تست</a></li><li><a href=#7142-امضای-تابع-تست>7.1.4.2 امضای تابع تست</a></li><li><a href=#7143-گروهبندی-تستها-با-subtest>7.1.4.3 گروه‌بندی تست‌ها با Subtest</a></li><li><a href=#7144-موازیسازی-تستها>7.1.4.4 موازی‌سازی تست‌ها</a></li><li><a href=#7145-قرارداد-نامگذاری-تستها>7.1.4.5 قرارداد نام‌گذاری تست‌ها</a></li><li><a href=#7146-تستهای-بدون-تست-واقعی>7.1.4.6 تست‌های بدون تست واقعی</a></li></ul></li><li><a href=#715-مقایسه-با-زبانهای-دیگر>7.1.5 مقایسه با زبان‌های دیگر</a><ul><li><a href=#7151-مقایسه-با-python>7.1.5.1 مقایسه با Python</a></li><li><a href=#7152-مقایسه-با-java>7.1.5.2 مقایسه با Java</a></li><li><a href=#7153-مقایسه-با-javascript--typescript>7.1.5.3 مقایسه با JavaScript / TypeScript</a></li><li><a href=#7154-مقایسه-با-rust>7.1.5.4 مقایسه با Rust</a></li><li><a href=#7155-نتیجهگیری-مقایسه>7.1.5.5 نتیجه‌گیری مقایسه</a></li></ul></li><li><a href=#716-آزمونگر-ایدهآل-گولنگنویس-چرا-باید-تست-بنویسیم>7.1.6 آزمونگر ایده‌آل گولنگ‌نویس: چرا باید تست بنویسیم؟</a><ul><li><a href=#7161-تضمین-رفتار-سیستم>7.1.6.1 تضمین رفتار سیستم</a></li><li><a href=#7162-مستندسازی-زنده>7.1.6.2 مستندسازی زنده</a></li><li><a href=#7163-کاهش-هزینههای-نگهداری>7.1.6.3 کاهش هزینه‌های نگهداری</a></li><li><a href=#7164-ایجاد-فرهنگ-توسعه-حرفهای>7.1.6.4 ایجاد فرهنگ توسعه حرفه‌ای</a></li></ul></li><li><a href=#717-ابزار-go-test-و-نحوه-اجرای-تستها-از-خط-فرمان>7.1.7 ابزار go test و نحوه اجرای تست‌ها از خط فرمان</a><ul><li><a href=#7171-اجرای-ساده-تستها>7.1.7.1 اجرای ساده تست‌ها</a></li><li><a href=#7172-اجرای-انتخابی-تستها-با--run>7.1.7.2 اجرای انتخابی تست‌ها با -run</a></li><li><a href=#7173-تستهای-موازی-و-مدیریت-زمان>7.1.7.3 تست‌های موازی و مدیریت زمان</a></li><li><a href=#7174-سنجش-پوشش-کد-با--cover>7.1.7.4 سنجش پوشش کد با -cover</a></li><li><a href=#7175-اجرای-بنچمارکها-با--bench>7.1.7.5 اجرای بنچمارک‌ها با -bench</a></li><li><a href=#7176-تستهای-فازی-با--fuzz>7.1.7.6 تست‌های فازی با -fuzz</a></li><li><a href=#7177-ترکیبهای-رایج-در-پروژههای-واقعی>7.1.7.7 ترکیب‌های رایج در پروژه‌های واقعی</a></li><li><a href=#7178-حالتهای-اجرای-go-test>7.1.7.8 حالت‌های اجرای go test</a></li><li><a href=#7179-بررسی-race-condition-با-فلگ--race>7.1.7.9 بررسی race condition با فلگ -race</a></li></ul></li></ul></li></ul></nav></aside></header><h1>7.1 مقدمه‌ای بر تست در Go</h1><article class="markdown book-article"><p>تست‌نویسی یکی از ارکان حیاتی توسعه نرم‌افزارهای قابل‌اعتماد و نگهدارپذیر است. در دنیای امروز که سرعت توسعه و تغییرات کد روزبه‌روز بیشتر می‌شود، وجود تست‌های دقیق و ساختاریافته تضمین می‌کند که عملکرد نرم‌افزار با تغییرات جدید دچار اختلال نشود. از کشف باگ‌ها گرفته تا مستندسازی رفتار مورد انتظار ماژول‌ها، تست‌ها نقشی فراتر از صرفاً اطمینان‌بخشی دارند. آن‌ها به تیم توسعه جرئت ریفکتور می‌دهند و مرزهای طراحی سیستم را شفاف می‌کنند.</p><p>زبان Go با در نظر گرفتن سادگی و مینیمالیسم به عنوان اصل بنیادین، تست‌نویسی را به عنوان بخشی جدانشدنی از چرخه توسعه درون خود جای داده است. بر خلاف بسیاری از زبان‌ها که برای تست‌نویسی نیاز به نصب ابزارهای اضافی دارند، Go یک ابزار تست‌نویسی داخلی، ساده و قدرتمند به نام <code>testing</code> در کنار دستور <code>go test</code> ارائه می‌دهد که فرآیند اجرا و گزارش‌گیری را بسیار روان و سریع می‌کند. این ابزارها با طراحی سطح پایین و بدون پیچیدگی، توسعه‌دهندگان را تشویق می‌کنند که تست را به بخشی از سبک برنامه‌نویسی خود تبدیل کنند.</p><p>در Go، تست‌ها همان توابع عادی هستند که با قواعد ساده‌ای مانند <code>TestXxx(t *testing.T)</code> نوشته می‌شوند. خبری از assertionهای پیچیده یا DSLهای سنگین نیست. همین سادگی، آزمون‌ها را خواناتر، نگهدار‌پذیرتر و از همه مهم‌تر، قابل‌درک برای همه اعضای تیم می‌کند. ابزارهای جانبی مانند <code>testify</code> یا <code>ginkgo</code> نیز به عنوان افزونه‌هایی قدرتمند برای پروژه‌های بزرگ‌تر و تست‌های ساختاریافته‌تر به کار گرفته می‌شوند، اما اصل فلسفه Go حفظ مینیمالیسم است.</p><p>در این فصل، با اصول، ابزارها و الگوهای تست‌نویسی در زبان Go آشنا خواهیم شد؛ از تست واحد، جدول‌محور، یکپارچه و انتها به انتها گرفته تا بنچمارک، تست فازی و تست‌های هم‌زمانی. همچنین به ابزارهایی چون <code>testify</code>, <code>gomock</code>, <code>ginkgo</code>, پوشش تست، ساخت Suite تستی و نحوه تست‌نویسی حرفه‌ای در پروژه‌های واقعی می‌پردازیم. هدف این فصل آن است که مهارت تست‌نویسی شما را در Go از سطح ابتدایی به سطحی قابل‌اعتماد و حرفه‌ای ارتقا دهد.</p><blockquote class="book-hint info"><strong>به نقل از ویکی پدیا</strong>
<strong>آزمون نرم‌افزار</strong> یا<a href=https://fa.wikipedia.org/wiki/%D8%A2%D8%B2%D9%85%D9%88%D9%86_%D9%86%D8%B1%D9%85%E2%80%8C%D8%A7%D9%81%D8%B2%D8%A7%D8%B1> <strong>تست نرم‌افزار</strong></a> (به <a href=https://fa.wikipedia.org/wiki/%D8%B2%D8%A8%D8%A7%D9%86_%D8%A7%D9%86%DA%AF%D9%84%DB%8C%D8%B3%DB%8C title="زبان انگلیسی">انگلیسی</a>: software testing) به فرایند ارزیابی نرم‌افزار به منظور اطمینان از عملکرد صحیح آن در رویدادهایی مختلفی که ممکن است در دوره استفاده از نرم‌افزار با آن مواجه شود می‌باشد و به عبارت دیگر پیدا کردن خطاهایی احتمالی یک نرم‌افزار برای عملکرد درست، صحیح و بهینه آن در طول استفاده از آن است. هر چقدر نرم‌افزار بتواند با رویدادها مختلف به صورت مطلوب تر و قابل پذیرش تری چه از نظر عملکرد و چه از راحتی کاربر داشته باشد می‌توان انتظار داشت نرم‌افزار دارای عملکرد بهتری می‌باشد.</blockquote><h2 id=711-جایگاه-تست-در-چرخه-توسعه-نرمافزار>7.1.1 جایگاه تست در چرخه توسعه نرم‌افزار
<a class=anchor href=#711-%d8%ac%d8%a7%db%8c%da%af%d8%a7%d9%87-%d8%aa%d8%b3%d8%aa-%d8%af%d8%b1-%da%86%d8%b1%d8%ae%d9%87-%d8%aa%d9%88%d8%b3%d8%b9%d9%87-%d9%86%d8%b1%d9%85%d8%a7%d9%81%d8%b2%d8%a7%d8%b1>#</a></h2><p>در توسعه نرم‌افزار، نوشتن تست فقط یک فعالیت جانبی برای اطمینان از صحت عملکرد نیست، بلکه بخش جدایی‌ناپذیری از طراحی، مستندسازی و حفظ کیفیت سیستم محسوب می‌شود. زمانی که نرم‌افزار رشد می‌کند، تغییر می‌کند و افراد جدید به تیم توسعه می‌پیوندند، تست‌ها نقش ستون‌های قابل اعتماد برای حفظ رفتار صحیح سیستم را ایفا می‌کنند. در این میان، زبان برنامه‌نویسی Go با ساده‌سازی ابزارها و یکپارچه‌سازی امکانات تست‌نویسی، فرآیند توسعه را به‌گونه‌ای طراحی کرده که تست بخشی طبیعی از چرخه توسعه باشد.</p><h3 id=7111-تست-به-عنوان-بخشی-از-طراحی-سیستم>7.1.1.1 تست به عنوان بخشی از طراحی سیستم
<a class=anchor href=#7111-%d8%aa%d8%b3%d8%aa-%d8%a8%d9%87-%d8%b9%d9%86%d9%88%d8%a7%d9%86-%d8%a8%d8%ae%d8%b4%db%8c-%d8%a7%d8%b2-%d8%b7%d8%b1%d8%a7%d8%ad%db%8c-%d8%b3%db%8c%d8%b3%d8%aa%d9%85>#</a></h3><p>در بسیاری از روش‌های توسعه نرم‌افزار، نوشتن تست حتی پیش از پیاده‌سازی کد توصیه می‌شود. در روش‌هایی مانند <span class=tooltip data-tooltip="Test-Driven Development (TDD)" ontouchend=toggleTooltip(this)>توسعه مبتنی بر تست</span>
یا <span class=tooltip data-tooltip="Behavior-Driven Development (BDD)" ontouchend=toggleTooltip(this)>توسعه مبتنی بر رفتار</span>
، تست‌ها بخش اولیه فرآیند طراحی هستند. در زبان Go، نوشتن تست با استفاده از ساختارهای ساده‌ای مانند <code>TestXxx(t *testing.T)</code> یا استفاده از الگوی <span class=tooltip data-tooltip="table-driven test" ontouchend=toggleTooltip(this)>تست جدول‌محور</span>
باعث می‌شود که طراحی APIها و منطق برنامه به‌صورت طبیعی بر پایه رفتار قابل تست شکل بگیرد. این نوع طراحی نه‌تنها کیفیت را افزایش می‌دهد، بلکه کد را تغییرپذیرتر و خواناتر می‌کند.</p><h3 id=7112-تست-به-عنوان-مستند-رفتاری-سیستم>7.1.1.2 تست به عنوان مستند رفتاری سیستم
<a class=anchor href=#7112-%d8%aa%d8%b3%d8%aa-%d8%a8%d9%87-%d8%b9%d9%86%d9%88%d8%a7%d9%86-%d9%85%d8%b3%d8%aa%d9%86%d8%af-%d8%b1%d9%81%d8%aa%d8%a7%d8%b1%db%8c-%d8%b3%db%8c%d8%b3%d8%aa%d9%85>#</a></h3><p>تست‌ها می‌توانند جایگزینی دقیق، همیشگی و زنده برای مستندسازی باشند. هر تست، سناریویی مشخص از تعاملات سیستم با ورودی‌های مختلف است که خروجی یا رفتار خاصی را انتظار دارد. برخلاف مستندات متنی که به‌مرور زمان منسوخ می‌شوند، تست‌ها در صورت مغایرت با پیاده‌سازی، به‌وضوح شکست خواهند خورد. این ویژگی تست‌ها را به مرجع رفتاری سیستم تبدیل می‌کند. توسعه‌دهندگانی که برای هر ماژول تست می‌نویسند، در واقع رفتار آن ماژول را تعریف و مستند می‌کنند؛ به‌نحوی که برای سایر اعضای تیم یا برای توسعه‌دهندگانی که در آینده با پروژه کار می‌کنند نیز قابل درک است.</p><blockquote><p>تستی که می‌نویسی، قراردادی زنده با عملکرد سیستم است.</p></blockquote><h3 id=7113-تست-به-عنوان-سپر-تغییرات>7.1.1.3 تست به عنوان سپر تغییرات
<a class=anchor href=#7113-%d8%aa%d8%b3%d8%aa-%d8%a8%d9%87-%d8%b9%d9%86%d9%88%d8%a7%d9%86-%d8%b3%d9%be%d8%b1-%d8%aa%d8%ba%db%8c%db%8c%d8%b1%d8%a7%d8%aa>#</a></h3><p>در پروژه‌هایی که توسعه مداوم دارند، تغییر کد امری اجتناب‌ناپذیر است. اما تغییر بدون پشتوانه تست، خطر ایجاد <span class=tooltip data-tooltip=regression ontouchend=toggleTooltip(this)>بازگشت خطا</span>
را به همراه دارد. تست‌ها در اینجا به‌عنوان یک سپر دفاعی عمل می‌کنند. پیش از اعمال تغییر، می‌توان با اجرای سریع تست‌ها مطمئن شد که تغییرات، سایر بخش‌های سیستم را تحت تأثیر قرار نداده‌اند. سرعت بالای اجرای تست‌ها در Go باعث می‌شود که این فرآیند به‌صورت مستمر در چرخه توسعه انجام شود. با وجود این تست‌ها، می‌توان با اطمینان بالا اقدام به <span class=tooltip data-tooltip=refactoring ontouchend=toggleTooltip(this)>بازسازی ساختار کد</span>
یا اضافه‌کردن ویژگی‌های جدید کرد.</p><blockquote><p>نمی‌توانی چیزی را بهینه کنی که راستی‌آزمایی‌اش نکرده‌ای.</p></blockquote><h3 id=7114-تست-در-go-اولویت-یا-گزینه>7.1.1.4 تست در Go: اولویت یا گزینه؟
<a class=anchor href=#7114-%d8%aa%d8%b3%d8%aa-%d8%af%d8%b1-go-%d8%a7%d9%88%d9%84%d9%88%db%8c%d8%aa-%db%8c%d8%a7-%da%af%d8%b2%db%8c%d9%86%d9%87>#</a></h3><p>در زبان Go، تست‌نویسی نه‌تنها یک امکان در دسترس، بلکه بخشی از ابزار رسمی توسعه است. برخلاف بسیاری از زبان‌ها که نیازمند نصب ابزارها یا کتابخانه‌های شخص ثالث برای نوشتن تست هستند، Go با فراهم کردن ابزارهایی مانند <code>testing</code>، <code>go test</code>، <code>-cover</code>، <code>-bench</code> و <code>-fuzz</code> از ابتدا زیرساخت تست را فراهم کرده است. این ابزارها سبک توسعه‌ای را ترویج می‌دهند که در آن تست‌نویسی نه بعد از پیاده‌سازی، بلکه در حین توسعه و حتی پیش از آن انجام می‌شود. به همین دلیل، در بسیاری از پروژه‌های حرفه‌ای با زبان Go، تست بخش عادی و ضروری توسعه محسوب می‌شود، نه صرفاً یک انتخاب اختیاری.</p><h2 id=712-مزایای-تستنویسی-در-go>7.1.2 مزایای تست‌نویسی در Go
<a class=anchor href=#712-%d9%85%d8%b2%d8%a7%db%8c%d8%a7%db%8c-%d8%aa%d8%b3%d8%aa%d9%86%d9%88%db%8c%d8%b3%db%8c-%d8%af%d8%b1-go>#</a></h2><p>یکی از نقاط قوت زبان Go، سادگی و یکپارچگی ابزارهای تست‌نویسی است. در حالی که در بسیاری از زبان‌ها، برای شروع تست‌نویسی باید چارچوب‌های خارجی نصب و پیکربندی شوند، در Go هر پروژه به‌صورت پیش‌فرض می‌تواند شامل فایل‌های تست باشد و با استفاده از ابزار رسمی <code>go test</code> به‌سادگی تست‌ها را اجرا کند. این طراحی باعث شده تست‌نویسی در Go نه یک کار جانبی یا پیچیده، بلکه بخشی طبیعی از توسعه روزمره باشد.</p><h3 id=7121-سادهسازی-فرآیند-تستنویسی>7.1.2.1 ساده‌سازی فرآیند تست‌نویسی
<a class=anchor href=#7121-%d8%b3%d8%a7%d8%af%d9%87%d8%b3%d8%a7%d8%b2%db%8c-%d9%81%d8%b1%d8%a2%db%8c%d9%86%d8%af-%d8%aa%d8%b3%d8%aa%d9%86%d9%88%db%8c%d8%b3%db%8c>#</a></h3><p>تست‌ها در Go صرفاً توابعی هستند که با الگوی <code>TestXxx(t *testing.T)</code> تعریف می‌شوند. نیازی به ارث‌بری، annotation یا ساختارهای پیچیده نیست. تنها چیزی که لازم است یک تابع ساده و چند شرط منطقی برای بررسی نتایج است. همین سادگی باعث می‌شود افراد تازه‌کار نیز بتوانند به‌راحتی نوشتن تست را آغاز کنند و به مرور، تست‌های پیچیده‌تر بنویسند.</p><h3 id=7122-سرعت-بالا-در-اجرا>7.1.2.2 سرعت بالا در اجرا
<a class=anchor href=#7122-%d8%b3%d8%b1%d8%b9%d8%aa-%d8%a8%d8%a7%d9%84%d8%a7-%d8%af%d8%b1-%d8%a7%d8%ac%d8%b1%d8%a7>#</a></h3><p>تست‌های Go به دلیل ساختار ساده و اجرای مستقل، بسیار سریع اجرا می‌شوند. این موضوع در پروژه‌های بزرگ که شامل صدها یا هزاران تست هستند، اهمیت ویژه‌ای دارد. با استفاده از امکانات داخلی مانند <code>-short</code>، <code>-run</code> و <code>-parallel</code> می‌توان تست‌ها را به‌صورت انتخابی، سریع و هم‌زمان اجرا کرد. این ویژگی، بازخورد سریع برای توسعه‌دهنده فراهم می‌کند و مانع از کند شدن چرخه توسعه می‌شود.</p><h3 id=7123-پوشش-طیف-متنوعی-از-تستها>7.1.2.3 پوشش طیف متنوعی از تست‌ها
<a class=anchor href=#7123-%d9%be%d9%88%d8%b4%d8%b4-%d8%b7%db%8c%d9%81-%d9%85%d8%aa%d9%86%d9%88%d8%b9%db%8c-%d8%a7%d8%b2-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><p>Go به‌صورت پیش‌فرض از انواع مختلف تست پشتیبانی می‌کند:</p><ul><li>تست واحد <span class=tooltip data-tooltip="unit test" ontouchend=toggleTooltip(this)>unit test</span></li><li>تست یکپارچه <span class=tooltip data-tooltip="integration test" ontouchend=toggleTooltip(this)>integration test</span></li><li>تست انتها به انتها <span class=tooltip data-tooltip="end-to-end test" ontouchend=toggleTooltip(this)>end-to-end test</span></li><li>تست عملکرد <span class=tooltip data-tooltip=benchmark ontouchend=toggleTooltip(this)>benchmark</span></li><li>تست فازی <span class=tooltip data-tooltip="fuzz testing" ontouchend=toggleTooltip(this)>fuzz testing</span></li></ul><p>بدون نیاز به ابزار خارجی، می‌توان تمامی این انواع تست را در دل پروژه نوشت و اجرا کرد. این تنوع به تیم‌ها کمک می‌کند تا از زوایای مختلف، عملکرد و صحت سیستم را ارزیابی کنند.</p><h3 id=7124-پشتیبانی-از-ابزارهای-جانبی-و-شخص-ثالث>7.1.2.4 پشتیبانی از ابزارهای جانبی و شخص ثالث
<a class=anchor href=#7124-%d9%be%d8%b4%d8%aa%db%8c%d8%a8%d8%a7%d9%86%db%8c-%d8%a7%d8%b2-%d8%a7%d8%a8%d8%b2%d8%a7%d8%b1%d9%87%d8%a7%db%8c-%d8%ac%d8%a7%d9%86%d8%a8%db%8c-%d9%88-%d8%b4%d8%ae%d8%b5-%d8%ab%d8%a7%d9%84%d8%ab>#</a></h3><p>در کنار ابزارهای داخلی، اکوسیستم Go شامل کتابخانه‌ها و فریم‌ورک‌های محبوبی برای تست‌نویسی پیشرفته است. کتابخانه‌هایی مانند:</p><ul><li><code>testify</code>: برای assertions و mock</li><li><code>ginkgo</code>: برای تست‌های ساختاریافته به سبک BDD</li><li><code>gomock</code>, <code>moq</code>: برای تولید mock خودکار</li><li><code>go-cmp</code>: برای مقایسه دقیق ساختارهای پیچیده</li></ul><p>این ابزارها امکانات اضافی و قدرتمندی به تست‌نویسی اضافه می‌کنند و در عین حال با ساختار زبان سازگار باقی می‌مانند.</p><h3 id=7125-ادغام-آسان-با-cicd>7.1.2.5 ادغام آسان با CI/CD
<a class=anchor href=#7125-%d8%a7%d8%af%d8%ba%d8%a7%d9%85-%d8%a2%d8%b3%d8%a7%d9%86-%d8%a8%d8%a7-cicd>#</a></h3><p>از آنجا که اجرای تست در Go از طریق یک دستور ساده انجام می‌شود (<code>go test ./...</code>)، ادغام آن در <span class=tooltip data-tooltip="CI/CD pipelines" ontouchend=toggleTooltip(this)>خط تولید خودکار</span>
بسیار ساده است. بیشتر پلتفرم‌های CI مثل GitHub Actions، GitLab CI، CircleCI و TravisCI، بدون نیاز به پیکربندی اضافی، می‌توانند تست‌های Go را اجرا و گزارش کنند. این ویژگی باعث می‌شود که فرهنگ تست‌نویسی در تیم به‌راحتی به یک عادت سازنده تبدیل شود.</p><h3 id=7126-پایداری-و-نگهداری-آسان-تستها>7.1.2.6 پایداری و نگهداری آسان تست‌ها
<a class=anchor href=#7126-%d9%be%d8%a7%db%8c%d8%af%d8%a7%d8%b1%db%8c-%d9%88-%d9%86%da%af%d9%87%d8%af%d8%a7%d8%b1%db%8c-%d8%a2%d8%b3%d8%a7%d9%86-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><p>ساختار تست در Go به‌گونه‌ای است که نگهداری آن در طول زمان ساده و کم‌هزینه است. چون تست‌ها از توابع معمولی تشکیل شده‌اند، به‌راحتی می‌توان آن‌ها را بازنویسی، جدا یا ترکیب کرد. همچنین از آنجا که ابزارهای تست بخشی از هسته زبان هستند، احتمال ناسازگاری نسخه‌ای یا شکستن تست‌ها به دلیل تغییر ابزار بسیار پایین است.</p><p>حتماً، در ادامه نگارش کامل بخش <strong>۷.۱.۳ رویکرد زبان Go به تست‌نویسی</strong> با رعایت ساختار مورد نظر، استفاده از کلمات تخصصی به‌صورت tooltip، بدون ارجاع مستقیم به کتاب‌ها و با زبان حرفه‌ای فارسی آورده شده است:</p><h2 id=713-رویکرد-زبان-go-به-تستنویسی>7.1.3 رویکرد زبان Go به تست‌نویسی
<a class=anchor href=#713-%d8%b1%d9%88%db%8c%da%a9%d8%b1%d8%af-%d8%b2%d8%a8%d8%a7%d9%86-go-%d8%a8%d9%87-%d8%aa%d8%b3%d8%aa%d9%86%d9%88%db%8c%d8%b3%db%8c>#</a></h2><p>زبان Go از ابتدا با این نگرش طراحی شد که توسعه‌دهنده باید بتواند با ساده‌ترین ابزارها، بیشترین کنترل را روی کیفیت کد داشته باشد. در همین راستا، تست‌نویسی نه‌تنها به عنوان یک ابزار جانبی، بلکه به عنوان بخشی ذاتی از فلسفه زبان گنجانده شده است. رویکرد Go به تست‌نویسی بر پایه‌ی اصولی مانند سادگی، سرعت، قابلیت نگهداری و حداقل وابستگی بنا شده است.</p><h3 id=7131-استفاده-از-ابزارهای-رسمی-و-داخلی>7.1.3.1 استفاده از ابزارهای رسمی و داخلی
<a class=anchor href=#7131-%d8%a7%d8%b3%d8%aa%d9%81%d8%a7%d8%af%d9%87-%d8%a7%d8%b2-%d8%a7%d8%a8%d8%b2%d8%a7%d8%b1%d9%87%d8%a7%db%8c-%d8%b1%d8%b3%d9%85%db%8c-%d9%88-%d8%af%d8%a7%d8%ae%d9%84%db%8c>#</a></h3><p>در Go، نیازی به نصب هیچ ابزار اضافی برای تست‌نویسی وجود ندارد. با استفاده از پکیج <span class=tooltip data-tooltip=testing ontouchend=toggleTooltip(this)>تستینگ</span>
و ابزار <span class=tooltip data-tooltip="go test" ontouchend=toggleTooltip(this)>گو تست</span>
می‌توان تست‌ها را نوشت، اجرا کرد و گزارش گرفت. این ابزارها بخشی از هسته زبان هستند و در کنار دستورات اصلی مانند <code>go build</code> یا <code>go run</code> مورد استفاده قرار می‌گیرند. این یکپارچگی باعث می‌شود تست‌نویسی بخشی کاملاً طبیعی از فرآیند توسعه باشد، نه عملی اختیاری یا پیچیده.</p><h3 id=7132-سادگی-در-تعریف-تستها>7.1.3.2 سادگی در تعریف تست‌ها
<a class=anchor href=#7132-%d8%b3%d8%a7%d8%af%da%af%db%8c-%d8%af%d8%b1-%d8%aa%d8%b9%d8%b1%db%8c%d9%81-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><p>برخلاف زبان‌هایی که برای نوشتن تست نیاز به استفاده از annotation، ارث‌بری از کلاس‌های خاص یا تعریف ساختارهای پیچیده دارند، در Go یک تست تنها یک تابع معمولی با امضای <code>func TestXxx(t *testing.T)</code> است. این توابع می‌توانند هر منطق دلخواهی را پیاده‌سازی کنند و در صورت مشاهده خطا با فراخوانی <code>t.Errorf()</code> یا <code>t.Fatal()</code> گزارش شکست را صادر نمایند. این رویکرد باعث می‌شود تست‌ها خوانا، مینیمال و قابل فهم برای تمام اعضای تیم باشند.</p><h3 id=7133-سبک-مینیمال-و-بدون-چارچوب>7.1.3.3 سبک مینیمال و بدون چارچوب
<a class=anchor href=#7133-%d8%b3%d8%a8%da%a9-%d9%85%db%8c%d9%86%db%8c%d9%85%d8%a7%d9%84-%d9%88-%d8%a8%d8%af%d9%88%d9%86-%da%86%d8%a7%d8%b1%da%86%d9%88%d8%a8>#</a></h3><p>Go از عمد از اضافه کردن <span class=tooltip data-tooltip="test frameworks" ontouchend=toggleTooltip(this)>چارچوب‌های تست</span>
پیچیده و سیستم‌های assertion سنگین اجتناب کرده است. این تصمیم با هدف حفظ سادگی، شفافیت و کنترل بیشتر توسعه‌دهنده اتخاذ شده است. اگرچه کتابخانه‌های شخص ثالث مانند <code>testify</code> یا <code>ginkgo</code> برای پروژه‌های بزرگ یا تست‌های ساختاریافته‌تر وجود دارند، اما فلسفه Go این است که تست ساده باشد و تا جای ممکن از ابزارهای استاندارد استفاده شود.</p><h3 id=7134-پشتیبانی-طبیعی-از-انواع-تست>7.1.3.4 پشتیبانی طبیعی از انواع تست
<a class=anchor href=#7134-%d9%be%d8%b4%d8%aa%db%8c%d8%a8%d8%a7%d9%86%db%8c-%d8%b7%d8%a8%db%8c%d8%b9%db%8c-%d8%a7%d8%b2-%d8%a7%d9%86%d9%88%d8%a7%d8%b9-%d8%aa%d8%b3%d8%aa>#</a></h3><p>رویکرد Go به تست‌نویسی صرفاً محدود به بررسی صحت نیست. ابزار رسمی <code>go test</code> با فلگ‌هایی مانند <code>-bench</code>, <code>-cover</code> و <code>-fuzz</code> از تست‌های متنوعی پشتیبانی می‌کند، از جمله:</p><ul><li>تست عملکرد <span class=tooltip data-tooltip=benchmark ontouchend=toggleTooltip(this)>benchmark</span></li><li>سنجش پوشش کد <span class=tooltip data-tooltip="code coverage" ontouchend=toggleTooltip(this)>code coverage</span></li><li>تست فازی <span class=tooltip data-tooltip="fuzz testing" ontouchend=toggleTooltip(this)>fuzz testing</span></li></ul><p>همه این قابلیت‌ها در ابزارهای داخلی Go گنجانده شده‌اند و برای استفاده از آن‌ها نیازی به نصب افزونه یا وابستگی جدید نیست. این ویژگی Go را از بسیاری از زبان‌ها متمایز می‌کند.</p><h3 id=7135-طراحی-برای-توسعهدهنده-نه-ابزار>7.1.3.5 طراحی برای توسعه‌دهنده، نه ابزار
<a class=anchor href=#7135-%d8%b7%d8%b1%d8%a7%d8%ad%db%8c-%d8%a8%d8%b1%d8%a7%db%8c-%d8%aa%d9%88%d8%b3%d8%b9%d9%87%d8%af%d9%87%d9%86%d8%af%d9%87-%d9%86%d9%87-%d8%a7%d8%a8%d8%b2%d8%a7%d8%b1>#</a></h3><p>فلسفه طراحی Go این است که توسعه‌دهنده باید به‌جای جنگیدن با ابزارها، مستقیماً روی حل مسئله تمرکز کند. این اصل در تست‌نویسی نیز دیده می‌شود. Go توسعه‌دهنده را تشویق می‌کند به‌جای وابستگی به جادوی فریم‌ورک‌ها، با ابزارهای ساده و قابل درک، منطق تست را به‌صورت شفاف پیاده‌سازی کند. این رویکرد در بلندمدت باعث تسهیل نگهداری پروژه، کاهش پیچیدگی و افزایش اطمینان از صحت سیستم می‌شود.</p><h2 id=714-اصول-و-قراردادهای-تست-در-go>7.1.4 اصول و قراردادهای تست در Go
<a class=anchor href=#714-%d8%a7%d8%b5%d9%88%d9%84-%d9%88-%d9%82%d8%b1%d8%a7%d8%b1%d8%af%d8%a7%d8%af%d9%87%d8%a7%db%8c-%d8%aa%d8%b3%d8%aa-%d8%af%d8%b1-go>#</a></h2><p>در زبان Go، تست‌نویسی نه‌تنها از نظر ابزار ساده است، بلکه از نظر <strong>قراردادها، ساختار پوشه‌ها و نام‌گذاری توابع</strong> نیز کاملاً روشن و استاندارد تعریف شده است. این ساختار قراردادی به توسعه‌دهندگان کمک می‌کند تا تست‌ها را به‌راحتی بنویسند، بخوانند، اجرا کنند و در ابزارهای خودکار مانند <span class=tooltip data-tooltip="CI pipelines" ontouchend=toggleTooltip(this)>سی‌آی</span>
ادغام نمایند.</p><h3 id=7141-ساختار-فایلهای-تست>7.1.4.1 ساختار فایل‌های تست
<a class=anchor href=#7141-%d8%b3%d8%a7%d8%ae%d8%aa%d8%a7%d8%b1-%d9%81%d8%a7%db%8c%d9%84%d9%87%d8%a7%db%8c-%d8%aa%d8%b3%d8%aa>#</a></h3><p>تمام تست‌ها در Go باید در فایل‌هایی با پسوند <code>_test.go</code> قرار بگیرند. این قانون توسط ابزار <code>go test</code> شناسایی می‌شود و فقط این فایل‌ها برای اجرای تست در نظر گرفته می‌شوند. این فایل‌ها معمولاً در کنار فایل‌های اصلی قرار می‌گیرند، مثلاً:</p><pre><code>math.go
math_test.go
</code></pre><p>این ساختار باعث می‌شود تست‌ها به راحتی با کد اصلی مقایسه و توسعه داده شوند، و وابستگی آن‌ها کاملاً واضح باشد.</p><h3 id=7142-امضای-تابع-تست>7.1.4.2 امضای تابع تست
<a class=anchor href=#7142-%d8%a7%d9%85%d8%b6%d8%a7%db%8c-%d8%aa%d8%a7%d8%a8%d8%b9-%d8%aa%d8%b3%d8%aa>#</a></h3><p>هر تابع تست باید به شکل زیر تعریف شود:</p><pre><code class=language-go>func TestXxx(t *testing.T)
</code></pre><p>در اینجا <code>Xxx</code> می‌تواند نامی اختیاری و دلخواه باشد، اما باید با حرف بزرگ آغاز شود تا توسط ابزار تست شناسایی شود. آرگومان <code>t</code> از نوع <span class=tooltip data-tooltip=*testing.T ontouchend=toggleTooltip(this)>تی تستینگ</span>
است و امکاناتی مانند ثبت خطا، توقف تست، یا گزارش وضعیت را فراهم می‌کند.</p><p>برای مثال:</p><pre><code class=language-go>func TestAdd(t *testing.T) {
  got := Add(2, 3)
  if got != 5 {
    t.Errorf(&quot;expected 5, got %d&quot;, got)
  }
}
</code></pre><h3 id=7143-گروهبندی-تستها-با-subtest>7.1.4.3 گروه‌بندی تست‌ها با Subtest
<a class=anchor href=#7143-%da%af%d8%b1%d9%88%d9%87%d8%a8%d9%86%d8%af%db%8c-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7-%d8%a8%d8%a7-subtest>#</a></h3><p>در Go می‌توان تست‌های مرتبط را با استفاده از متد <code>t.Run</code> به‌صورت <span class=tooltip data-tooltip=subtest ontouchend=toggleTooltip(this)>زیر تست</span>
اجرا کرد. این کار باعث دسته‌بندی منطقی تست‌ها و جداسازی گزارش آن‌ها در خروجی می‌شود:</p><pre><code class=language-go>func TestMathOperations(t *testing.T) {
  t.Run(&quot;Addition&quot;, func(t *testing.T) {
    // ...
  })

  t.Run(&quot;Multiplication&quot;, func(t *testing.T) {
    // ...
  })
}
</code></pre><h3 id=7144-موازیسازی-تستها>7.1.4.4 موازی‌سازی تست‌ها
<a class=anchor href=#7144-%d9%85%d9%88%d8%a7%d8%b2%db%8c%d8%b3%d8%a7%d8%b2%db%8c-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><p>Go به‌صورت بومی از اجرای هم‌زمان تست‌ها پشتیبانی می‌کند. با استفاده از <code>t.Parallel()</code> می‌توان تست‌ها را به‌صورت مستقل و موازی اجرا کرد، به‌ویژه مفید برای تست‌هایی که داده‌ها یا منابع مشترک ندارند:</p><pre><code class=language-go>func TestFastOperation(t *testing.T) {
  t.Parallel()
  // اجرای تست
}
</code></pre><p>در صورتی که تست‌هایی با منابع مشترک دارید، باید از <span class=tooltip data-tooltip="sync primitives" ontouchend=toggleTooltip(this)>سینک</span>
مانند Mutex یا channel برای کنترل استفاده کنید.</p><h3 id=7145-قرارداد-نامگذاری-تستها>7.1.4.5 قرارداد نام‌گذاری تست‌ها
<a class=anchor href=#7145-%d9%82%d8%b1%d8%a7%d8%b1%d8%af%d8%a7%d8%af-%d9%86%d8%a7%d9%85%da%af%d8%b0%d8%a7%d8%b1%db%8c-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><ul><li>تمام تست‌ها باید با <code>Test</code> شروع شوند.</li><li>تست‌های بنچمارک باید با <code>Benchmark</code> شروع شوند و از <code>*testing.B</code> استفاده کنند.</li><li>تست‌های فازی باید با <code>Fuzz</code> شروع شوند و از <code>*testing.F</code> استفاده کنند.</li><li>استفاده از اسم‌های معنادار برای تست‌ها باعث خوانایی بهتر کد و گزارش‌ها می‌شود.</li></ul><p>مثال‌های معتبر:</p><pre><code class=language-go>func BenchmarkSort(b *testing.B) { ... }
func FuzzParseDate(f *testing.F) { ... }
</code></pre><h3 id=7146-تستهای-بدون-تست-واقعی>7.1.4.6 تست‌های بدون تست واقعی
<a class=anchor href=#7146-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7%db%8c-%d8%a8%d8%af%d9%88%d9%86-%d8%aa%d8%b3%d8%aa-%d9%88%d8%a7%d9%82%d8%b9%db%8c>#</a></h3><p>گاهی ممکن است نیاز باشد یک تست خالی نوشته شود فقط برای اطمینان از اینکه برنامه کامپایل می‌شود یا فقط هدف خاصی را بررسی کند. در این موارد، می‌توان از <code>t.Skip()</code> استفاده کرد:</p><pre><code class=language-go>func TestStub(t *testing.T) {
  t.Skip(&quot;implementation pending&quot;)
}
</code></pre><h2 id=715-مقایسه-با-زبانهای-دیگر>7.1.5 مقایسه با زبان‌های دیگر
<a class=anchor href=#715-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87-%d8%a8%d8%a7-%d8%b2%d8%a8%d8%a7%d9%86%d9%87%d8%a7%db%8c-%d8%af%db%8c%da%af%d8%b1>#</a></h2><p>زبان Go رویکردی ساده، سریع و بی‌واسطه به تست‌نویسی دارد که آن را از بسیاری از زبان‌های رایج توسعه نرم‌افزار متمایز می‌کند. در حالی که برخی زبان‌ها با استفاده از چارچوب‌های سنگین یا ابزارهای جانبی به سراغ تست می‌روند، Go تست را به‌عنوان بخشی از طراحی زبان در نظر گرفته است. در این بخش، نگاهی تطبیقی به روش تست‌نویسی در Go و چند زبان دیگر می‌اندازیم.</p><h3 id=7151-مقایسه-با-python>7.1.5.1 مقایسه با Python
<a class=anchor href=#7151-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87-%d8%a8%d8%a7-python>#</a></h3><p>در زبان Python، تست‌نویسی اغلب با استفاده از کتابخانه‌هایی مانند <code>unittest</code>, <code>pytest</code>, یا <code>nose</code> انجام می‌شود. اگرچه این ابزارها قدرتمند هستند و ویژگی‌هایی مانند تشخیص خودکار، fixture injection و assert پیشرفته دارند، اما معمولاً نیاز به نصب و پیکربندی اولیه دارند. در مقابل، Go از ابزار داخلی <code>testing</code> استفاده می‌کند که بدون وابستگی و با دستور <code>go test</code> قابل استفاده است.</p><table><thead><tr><th>ویژگی</th><th>Go</th><th>Python + pytest</th></tr></thead><tbody><tr><td>ابزار داخلی</td><td>بله</td><td>خیر</td></tr><tr><td>assert پیشرفته</td><td>خیر (با <code>if</code>)</td><td>بله</td></tr><tr><td>سرعت اجرا</td><td>بسیار بالا</td><td>معمولی</td></tr><tr><td>منحنی یادگیری</td><td>بسیار ساده</td><td>نسبتاً متوسط</td></tr></tbody></table><h3 id=7152-مقایسه-با-java>7.1.5.2 مقایسه با Java
<a class=anchor href=#7152-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87-%d8%a8%d8%a7-java>#</a></h3><p>در Java، تست‌نویسی معمولاً با استفاده از چارچوب‌هایی مانند <code>JUnit</code> یا <code>TestNG</code> انجام می‌شود. این چارچوب‌ها مبتنی بر annotation و reflection هستند، که در Go وجود ندارد. تعریف یک تست ساده در Java نیازمند کلاس، annotation و ساختار نسبتاً سنگینی است، در حالی که در Go یک تابع ساده کافی است. از طرفی ابزارهای Java برای پروژه‌های پیچیده‌تر امکانات بیشتری دارند، اما این مزیت همراه با پیچیدگی نیز هست.</p><table><thead><tr><th>ویژگی</th><th>Go</th><th>Java + JUnit</th></tr></thead><tbody><tr><td>نیاز به annotation</td><td>خیر</td><td>بله</td></tr><tr><td>نوشتار ساده</td><td>بله</td><td>خیر</td></tr><tr><td>یکپارچگی با زبان</td><td>کامل</td><td>از طریق چارچوب جداگانه</td></tr><tr><td>زمان اجرا</td><td>سریع</td><td>کندتر</td></tr></tbody></table><h3 id=7153-مقایسه-با-javascript--typescript>7.1.5.3 مقایسه با JavaScript / TypeScript
<a class=anchor href=#7153-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87-%d8%a8%d8%a7-javascript--typescript>#</a></h3><p>در JavaScript یا TypeScript، ابزارهای متنوعی برای تست وجود دارد مانند <code>Jest</code>, <code>Mocha</code>, <code>Chai</code>, <code>Vitest</code>. اگرچه این ابزارها تجربه تست بسیار مدرنی فراهم می‌کنند (مانند snapshot testing و mocking خودکار)، اما پیکربندی آن‌ها در پروژه‌های بزرگ می‌تواند زمان‌بر باشد. از طرف دیگر، وجود اکوسیستم‌های پیچیده باعث می‌شود گاهی فهمیدن منطق تست دشوار شود. Go از این پیچیدگی اجتناب کرده و تجربه‌ای ساده، قابل پیش‌بینی و سریع ارائه می‌دهد.</p><table><thead><tr><th>ویژگی</th><th>Go</th><th>JavaScript + Jest</th></tr></thead><tbody><tr><td>نصب ابزار</td><td>لازم نیست</td><td>ضروری</td></tr><tr><td>snapshot testing</td><td>ندارد</td><td>بله</td></tr><tr><td>mocking داخلی</td><td>ندارد</td><td>بله</td></tr><tr><td>خطایابی آسان تست‌ها</td><td>بله</td><td>گاهی دشوار</td></tr></tbody></table><h3 id=7154-مقایسه-با-rust>7.1.5.4 مقایسه با Rust
<a class=anchor href=#7154-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87-%d8%a8%d8%a7-rust>#</a></h3><p>در Rust، تست‌ها معمولاً درون ماژول‌هایی با annotation <code>#[cfg(test)]</code> و ماکروهای <code>#[test]</code> نوشته می‌شوند. مانند Go، تست بخشی از زبان است و اجرای آن با دستور <code>cargo test</code> انجام می‌شود. از این نظر، رویکرد Rust بسیار به Go نزدیک است. با این حال، تعریف ماژول‌ها و ویژگی‌های زبانی Rust ممکن است منحنی یادگیری بالاتری داشته باشد، در حالی که Go از سادگی بیشتری برخوردار است.</p><table><thead><tr><th>ویژگی</th><th>Go</th><th>Rust</th></tr></thead><tbody><tr><td>ابزار تست داخلی</td><td>بله</td><td>بله</td></tr><tr><td>تست داخل ماژول</td><td>اختیاری</td><td>بله</td></tr><tr><td>macro و annotation</td><td>ندارد</td><td>دارد</td></tr><tr><td>پیچیدگی یادگیری</td><td>پایین</td><td>متوسط به بالا</td></tr></tbody></table><h3 id=7155-نتیجهگیری-مقایسه>7.1.5.5 نتیجه‌گیری مقایسه
<a class=anchor href=#7155-%d9%86%d8%aa%db%8c%d8%ac%d9%87%da%af%db%8c%d8%b1%db%8c-%d9%85%d9%82%d8%a7%db%8c%d8%b3%d9%87>#</a></h3><p>رویکرد Go به تست‌نویسی کاملاً عمل‌گرا، ساده و بدون وابستگی به ابزارهای جانبی است. این سادگی باعث می‌شود تیم‌های توسعه بتوانند سریع‌تر شروع به نوشتن تست کنند و فرآیند اجرای تست‌ها نیز سبک، سریع و قابل‌اتکا باقی بماند. در حالی که بسیاری از زبان‌ها بر غنای ابزارهای تست تکیه می‌کنند، Go با ارائه یک راهکار ساده اما کارآمد، توسعه‌دهنده را به نوشتن تست تشویق می‌کند بدون اینکه او را از مسیر تولید منحرف کند.</p><h2 id=716-آزمونگر-ایدهآل-گولنگنویس-چرا-باید-تست-بنویسیم>7.1.6 آزمونگر ایده‌آل گولنگ‌نویس: چرا باید تست بنویسیم؟
<a class=anchor href=#716-%d8%a2%d8%b2%d9%85%d9%88%d9%86%da%af%d8%b1-%d8%a7%db%8c%d8%af%d9%87%d8%a2%d9%84-%da%af%d9%88%d9%84%d9%86%da%af%d9%86%d9%88%db%8c%d8%b3-%da%86%d8%b1%d8%a7-%d8%a8%d8%a7%db%8c%d8%af-%d8%aa%d8%b3%d8%aa-%d8%a8%d9%86%d9%88%db%8c%d8%b3%db%8c%d9%85>#</a></h2><p>در اکوسیستم Go، تست‌نویسی نه یک مهارت اضافه بلکه بخشی از هویت یک توسعه‌دهنده حرفه‌ای محسوب می‌شود. اگرچه ابزارها و کتابخانه‌ها نوشتن تست را بسیار آسان کرده‌اند، اما نوشتن تست صرفاً به خاطر وجود ابزار انجام نمی‌شود. در واقع، نوشتن تست در Go به دلایل مهم‌تری ضرورت دارد.</p><h3 id=7161-تضمین-رفتار-سیستم>7.1.6.1 تضمین رفتار سیستم
<a class=anchor href=#7161-%d8%aa%d8%b6%d9%85%db%8c%d9%86-%d8%b1%d9%81%d8%aa%d8%a7%d8%b1-%d8%b3%db%8c%d8%b3%d8%aa%d9%85>#</a></h3><p>هر خط تست، تضمینی است برای آنکه یک ویژگی مشخص از سیستم در شرایط خاص به درستی عمل می‌کند. وقتی تستی می‌نویسیم، در واقع داریم تعریف می‌کنیم که چه چیزی قابل قبول است و چه چیزی نیست. بدون تست، تغییر دادن یا توسعه کد به یک فعالیت پرریسک تبدیل می‌شود.</p><h3 id=7162-مستندسازی-زنده>7.1.6.2 مستندسازی زنده
<a class=anchor href=#7162-%d9%85%d8%b3%d8%aa%d9%86%d8%af%d8%b3%d8%a7%d8%b2%db%8c-%d8%b2%d9%86%d8%af%d9%87>#</a></h3><p>تست‌های خوب، همانند مستندات زنده هستند. آن‌ها نشان می‌دهند که یک تابع یا ماژول در برابر چه ورودی‌هایی چه رفتاری دارد. این نوع مستندسازی برخلاف توضیحات متنی، خود را با تغییرات کد به‌روزرسانی می‌کند و در صورت عدم هماهنگی، با شکست در اجرا هشدار می‌دهد.</p><h3 id=7163-کاهش-هزینههای-نگهداری>7.1.6.3 کاهش هزینه‌های نگهداری
<a class=anchor href=#7163-%da%a9%d8%a7%d9%87%d8%b4-%d9%87%d8%b2%db%8c%d9%86%d9%87%d9%87%d8%a7%db%8c-%d9%86%da%af%d9%87%d8%af%d8%a7%d8%b1%db%8c>#</a></h3><p>کد بدون تست، در بلندمدت هزینه‌بر خواهد شد؛ چرا که کوچک‌ترین تغییر در آن نیازمند تحلیل مجدد و اعتماد به حافظه یا شهود توسعه‌دهنده است. در حالی که وجود تست‌های پوششی، هزینه تغییر، اشکال‌زدایی و توسعه‌ی بیشتر را به‌شدت کاهش می‌دهد.</p><h3 id=7164-ایجاد-فرهنگ-توسعه-حرفهای>7.1.6.4 ایجاد فرهنگ توسعه حرفه‌ای
<a class=anchor href=#7164-%d8%a7%db%8c%d8%ac%d8%a7%d8%af-%d9%81%d8%b1%d9%87%d9%86%da%af-%d8%aa%d9%88%d8%b3%d8%b9%d9%87-%d8%ad%d8%b1%d9%81%d9%87%d8%a7%db%8c>#</a></h3><p>نوشتن تست فقط مهارت نیست، بلکه نشانه‌ی یک طرز فکر است. توسعه‌دهنده‌ای که تست می‌نویسد، به کیفیت، آینده‌پذیری و قابل‌اعتماد بودن سیستم اهمیت می‌دهد. در دنیای Go، این رویکرد از یک توصیه فراتر رفته و به یک عرف تبدیل شده است.</p><h2 id=717-ابزار-go-test-و-نحوه-اجرای-تستها-از-خط-فرمان>7.1.7 ابزار go test و نحوه اجرای تست‌ها از خط فرمان
<a class=anchor href=#717-%d8%a7%d8%a8%d8%b2%d8%a7%d8%b1-go-test-%d9%88-%d9%86%d8%ad%d9%88%d9%87-%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7-%d8%a7%d8%b2-%d8%ae%d8%b7-%d9%81%d8%b1%d9%85%d8%a7%d9%86>#</a></h2><p>در زبان Go، اجرای تست‌ها از طریق ابزار رسمی <span class=tooltip data-tooltip="go test command" ontouchend=toggleTooltip(this)>go test</span>
انجام می‌شود. این ابزار بخشی از زنجیره ابزارهای CLI زبان است و بدون نیاز به نصب هیچ ابزار اضافه‌ای، امکان نوشتن، اجرا و گزارش‌گیری از تست‌ها را فراهم می‌کند. در این بخش به بررسی کامل نحوه استفاده از <code>go test</code>، همراه با فلگ‌ها، گزینه‌ها و حالت‌های مختلف اجرای آن می‌پردازیم.</p><h3 id=7171-اجرای-ساده-تستها>7.1.7.1 اجرای ساده تست‌ها
<a class=anchor href=#7171-%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-%d8%b3%d8%a7%d8%af%d9%87-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7>#</a></h3><p>برای اجرای تست‌های موجود در یک بسته (پوشه فعلی)، تنها کافی‌ست در همان مسیر دستور زیر را وارد کنید:</p><pre><code class=language-bash>go test
</code></pre><p>این دستور تمام فایل‌های <code>_test.go</code> را کامپایل کرده، به صورت خودکار <code>go vet</code> را اجرا می‌کند و سپس تست‌ها را اجرا می‌کند.</p><p>خروجی به‌صورت خلاصه نمایش داده می‌شود:</p><pre><code>ok  	mymodule/mypkg	0.011s
</code></pre><p>اگر تست‌ها شکست بخورند، خروجی با <code>FAIL</code> نمایش داده می‌شود.</p><hr><h3 id=7172-اجرای-انتخابی-تستها-با--run>7.1.7.2 اجرای انتخابی تست‌ها با -run
<a class=anchor href=#7172-%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-%d8%a7%d9%86%d8%aa%d8%ae%d8%a7%d8%a8%db%8c-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7-%d8%a8%d8%a7--run>#</a></h3><p>می‌توان یک یا چند تابع تست خاص را با استفاده از الگوی منظم (regex) و فلگ <code>-run</code> اجرا کرد:</p><pre><code class=language-bash>go test -run=TestAdd
go test -run='Add|Sub'
</code></pre><blockquote><p>نکته: تابع تست باید دقیقاً با الگوی <code>TestXxx</code> تعریف شده باشد.</p></blockquote><h3 id=7173-تستهای-موازی-و-مدیریت-زمان>7.1.7.3 تست‌های موازی و مدیریت زمان
<a class=anchor href=#7173-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7%db%8c-%d9%85%d9%88%d8%a7%d8%b2%db%8c-%d9%88-%d9%85%d8%af%db%8c%d8%b1%db%8c%d8%aa-%d8%b2%d9%85%d8%a7%d9%86>#</a></h3><ul><li>برای تنظیم حداکثر تعداد تست‌هایی که می‌توانند هم‌زمان اجرا شوند:</li></ul><pre><code class=language-bash>go test -parallel=4
</code></pre><ul><li>برای محدود کردن زمان اجرای هر تست یا کل تست‌ها:</li></ul><pre><code class=language-bash>go test -timeout=5s
</code></pre><p>در صورت عبور از این زمان، پروسه تست با خطا قطع می‌شود.</p><hr><h3 id=7174-سنجش-پوشش-کد-با--cover>7.1.7.4 سنجش پوشش کد با -cover
<a class=anchor href=#7174-%d8%b3%d9%86%d8%ac%d8%b4-%d9%be%d9%88%d8%b4%d8%b4-%da%a9%d8%af-%d8%a8%d8%a7--cover>#</a></h3><p>برای مشاهده درصد پوشش کد توسط تست‌ها:</p><pre><code class=language-bash>go test -cover
</code></pre><p>برای تولید فایل پوشش:</p><pre><code class=language-bash>go test -coverprofile=coverage.out
</code></pre><p>و برای مشاهده پوشش به صورت HTML:</p><pre><code class=language-bash>go tool cover -html=coverage.out
</code></pre><hr><h3 id=7175-اجرای-بنچمارکها-با--bench>7.1.7.5 اجرای بنچمارک‌ها با -bench
<a class=anchor href=#7175-%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-%d8%a8%d9%86%da%86%d9%85%d8%a7%d8%b1%da%a9%d9%87%d8%a7-%d8%a8%d8%a7--bench>#</a></h3><p>برای اجرای بنچمارک‌ها از فلگ <code>-bench</code> استفاده می‌شود. برای اجرای همه بنچمارک‌ها:</p><pre><code class=language-bash>go test -bench=.
</code></pre><p>برای اجرای بنچمارک خاص:</p><pre><code class=language-bash>go test -bench=BenchmarkSort
</code></pre><p>با فلگ <code>-benchmem</code> می‌توان اطلاعات حافظه مصرفی را نیز دریافت کرد:</p><pre><code class=language-bash>go test -bench=. -benchmem
</code></pre><hr><h3 id=7176-تستهای-فازی-با--fuzz>7.1.7.6 تست‌های فازی با -fuzz
<a class=anchor href=#7176-%d8%aa%d8%b3%d8%aa%d9%87%d8%a7%db%8c-%d9%81%d8%a7%d8%b2%db%8c-%d8%a8%d8%a7--fuzz>#</a></h3><p>برای اجرای تست فازی:</p><pre><code class=language-bash>go test -fuzz=FuzzParse
</code></pre><p>برای محدود کردن زمان اجرای فاز فازی:</p><pre><code class=language-bash>go test -fuzz=FuzzParse -fuzztime=20s
</code></pre><p>در صورت یافتن نمونه‌ای که باعث شکست تست شود، داده تولیدشده ذخیره می‌شود و در اجرای بعدی بررسی خواهد شد.</p><hr><h3 id=7177-ترکیبهای-رایج-در-پروژههای-واقعی>7.1.7.7 ترکیب‌های رایج در پروژه‌های واقعی
<a class=anchor href=#7177-%d8%aa%d8%b1%da%a9%db%8c%d8%a8%d9%87%d8%a7%db%8c-%d8%b1%d8%a7%db%8c%d8%ac-%d8%af%d8%b1-%d9%be%d8%b1%d9%88%da%98%d9%87%d9%87%d8%a7%db%8c-%d9%88%d8%a7%d9%82%d8%b9%db%8c>#</a></h3><p>در بسیاری از پروژه‌ها از ترکیب چند فلگ استفاده می‌شود. مثال‌هایی از ترکیب‌های رایج:</p><pre><code class=language-bash>go test -v ./...                             # اجرای کامل تست‌ها به‌صورت verbose
go test -run=TestHandler -cover ./handlers   # تست handler خاص با پوشش کد
go test -bench=BenchmarkEncode -benchmem     # اجرای بنچمارک به همراه مصرف حافظه
go test -fuzz=FuzzMyFunc -fuzztime=1m        # اجرای تست فازی به مدت یک دقیقه
go test -count=1                             # غیرفعال‌سازی cache
</code></pre><hr><h3 id=7178-حالتهای-اجرای-go-test>7.1.7.8 حالت‌های اجرای go test
<a class=anchor href=#7178-%d8%ad%d8%a7%d9%84%d8%aa%d9%87%d8%a7%db%8c-%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-go-test>#</a></h3><p><code>go test</code> در دو حالت مختلف اجرا می‌شود:</p><ul><li><strong>Local Directory Mode</strong>: بدون آرگومان بسته اجرا می‌شود و فقط پوشه فعلی را تست می‌کند:</li></ul><pre><code class=language-bash>go test
</code></pre><ul><li><strong>Package List Mode</strong>: با مشخص‌کردن مسیر یا پکیج اجرا می‌شود:</li></ul><pre><code class=language-bash>go test ./...
go test mymodule/utils
</code></pre><p>در حالت دوم، سیستم <span class=tooltip data-tooltip="test caching" ontouchend=toggleTooltip(this)>کَش تست</span>
فعال می‌شود و تست‌های قبلاً موفق اجرا نشده و نتیجه cache نمایش داده می‌شود (با برچسب <code>(cached)</code>).</p><h3 id=7179-بررسی-race-condition-با-فلگ--race>7.1.7.9 بررسی race condition با فلگ -race
<a class=anchor href=#7179-%d8%a8%d8%b1%d8%b1%d8%b3%db%8c-race-condition-%d8%a8%d8%a7-%d9%81%d9%84%da%af--race>#</a></h3><p>در برنامه‌های همزمان، احتمال بروز <span class=tooltip data-tooltip="race condition" ontouchend=toggleTooltip(this)>شرایط مسابقه</span>
وجود دارد؛ یعنی دو یا چند goroutine به‌صورت ناهمزمان به یک متغیر مشترک دسترسی پیدا کنند و حداقل یکی از آن‌ها آن را تغییر دهد. این نوع باگ‌ها بسیار خطرناک هستند، زیرا در زمان اجرا قابل پیش‌بینی نیستند و معمولاً فقط در برخی شرایط خاص خود را نشان می‌دهند.</p><p>برای شناسایی چنین مشکلاتی در Go، می‌توان از فلگ <code>-race</code> هنگام اجرای تست‌ها استفاده کرد. این فلگ باعث می‌شود کامپایلر، برنامه را به‌گونه‌ای کامپایل کند که دسترسی به حافظه در زمان اجرا بررسی شود.</p><h4 id=نحوه-استفاده>نحوه استفاده:
<a class=anchor href=#%d9%86%d8%ad%d9%88%d9%87-%d8%a7%d8%b3%d8%aa%d9%81%d8%a7%d8%af%d9%87>#</a></h4><pre><code class=language-bash>go test -race
</code></pre><p>یا برای اجرای تست‌های یک پکیج خاص:</p><pre><code class=language-bash>go test -race ./pkg/concurrent
</code></pre><p>در صورت وجود race، خروجی‌ای مشابه زیر نمایش داده می‌شود:</p><pre><code>==================
WARNING: DATA RACE
Read at 0x00c0000b2000 by goroutine 6:
  main.main.func1()

Previous write at 0x00c0000b2000 by goroutine 5:
  main.main.func2()
==================
</code></pre><h4 id=نکات-مهم>نکات مهم:
<a class=anchor href=#%d9%86%da%a9%d8%a7%d8%aa-%d9%85%d9%87%d9%85>#</a></h4><ul><li>استفاده از <code>-race</code> باعث کند شدن اجرای تست‌ها (معمولاً 2 تا 5 برابر) و مصرف بیشتر حافظه می‌شود.</li><li>توصیه می‌شود در فرآیند CI، حداقل یک‌بار در روز یا قبل از انتشار نسخه جدید با <code>-race</code> تست کامل انجام شود.</li><li>تشخیص race توسط این ابزار معمولاً دقیق است، اما به صورت صددرصد تضمینی نیست.</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoFarsi/book/edit/main/content/chapter%207/7.1-introduction.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>این صفحه را ویرایش کنید</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class="text-left page-navigation"><a href=/chapter-7/go-unit-testing/>7.2 تست واحد (Unit Test) ◀︎</a></div><script>function toggleTooltip(e){e.classList.toggle("active")}</script><div id=graphcomment></div><script type=text/javascript>var __semio__params={graphcommentId:"book",behaviour:{}};function __semio__onload(){__semio__gc_graphlogin(__semio__params)}(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=__semio__onload,e.defer=!0,e.src="https://integration.graphcomment.com/gc_graphlogin.js?"+Date.now(),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content></br><main><div class=wrapper><a href=https://t.me/GolangEngineers class="icon telegram" target=_blank><div class=tooltip>گروه تلگرامی مهندسین گولنگ</div><span><i class="fab fa-telegram"></i></span>
</a><a href=https://linkedin.com/in/Ja7ad class="icon linkedin" target=_blank><div class=tooltip>لینکدین نویسنده</div><span><i class="fab fa-linkedin"></i></span>
</a><a href=https://twitter.com/Ja7adR class="icon twitter" target=_blank><div class=tooltip>توییتر نویسنده</div><span><i class="fab fa-twitter"></i></span></a></div></main></br></br><nav id=TableOfContents><ul><li><ul><li><a href=#711-جایگاه-تست-در-چرخه-توسعه-نرمافزار>7.1.1 جایگاه تست در چرخه توسعه نرم‌افزار</a><ul><li><a href=#7111-تست-به-عنوان-بخشی-از-طراحی-سیستم>7.1.1.1 تست به عنوان بخشی از طراحی سیستم</a></li><li><a href=#7112-تست-به-عنوان-مستند-رفتاری-سیستم>7.1.1.2 تست به عنوان مستند رفتاری سیستم</a></li><li><a href=#7113-تست-به-عنوان-سپر-تغییرات>7.1.1.3 تست به عنوان سپر تغییرات</a></li><li><a href=#7114-تست-در-go-اولویت-یا-گزینه>7.1.1.4 تست در Go: اولویت یا گزینه؟</a></li></ul></li><li><a href=#712-مزایای-تستنویسی-در-go>7.1.2 مزایای تست‌نویسی در Go</a><ul><li><a href=#7121-سادهسازی-فرآیند-تستنویسی>7.1.2.1 ساده‌سازی فرآیند تست‌نویسی</a></li><li><a href=#7122-سرعت-بالا-در-اجرا>7.1.2.2 سرعت بالا در اجرا</a></li><li><a href=#7123-پوشش-طیف-متنوعی-از-تستها>7.1.2.3 پوشش طیف متنوعی از تست‌ها</a></li><li><a href=#7124-پشتیبانی-از-ابزارهای-جانبی-و-شخص-ثالث>7.1.2.4 پشتیبانی از ابزارهای جانبی و شخص ثالث</a></li><li><a href=#7125-ادغام-آسان-با-cicd>7.1.2.5 ادغام آسان با CI/CD</a></li><li><a href=#7126-پایداری-و-نگهداری-آسان-تستها>7.1.2.6 پایداری و نگهداری آسان تست‌ها</a></li></ul></li><li><a href=#713-رویکرد-زبان-go-به-تستنویسی>7.1.3 رویکرد زبان Go به تست‌نویسی</a><ul><li><a href=#7131-استفاده-از-ابزارهای-رسمی-و-داخلی>7.1.3.1 استفاده از ابزارهای رسمی و داخلی</a></li><li><a href=#7132-سادگی-در-تعریف-تستها>7.1.3.2 سادگی در تعریف تست‌ها</a></li><li><a href=#7133-سبک-مینیمال-و-بدون-چارچوب>7.1.3.3 سبک مینیمال و بدون چارچوب</a></li><li><a href=#7134-پشتیبانی-طبیعی-از-انواع-تست>7.1.3.4 پشتیبانی طبیعی از انواع تست</a></li><li><a href=#7135-طراحی-برای-توسعهدهنده-نه-ابزار>7.1.3.5 طراحی برای توسعه‌دهنده، نه ابزار</a></li></ul></li><li><a href=#714-اصول-و-قراردادهای-تست-در-go>7.1.4 اصول و قراردادهای تست در Go</a><ul><li><a href=#7141-ساختار-فایلهای-تست>7.1.4.1 ساختار فایل‌های تست</a></li><li><a href=#7142-امضای-تابع-تست>7.1.4.2 امضای تابع تست</a></li><li><a href=#7143-گروهبندی-تستها-با-subtest>7.1.4.3 گروه‌بندی تست‌ها با Subtest</a></li><li><a href=#7144-موازیسازی-تستها>7.1.4.4 موازی‌سازی تست‌ها</a></li><li><a href=#7145-قرارداد-نامگذاری-تستها>7.1.4.5 قرارداد نام‌گذاری تست‌ها</a></li><li><a href=#7146-تستهای-بدون-تست-واقعی>7.1.4.6 تست‌های بدون تست واقعی</a></li></ul></li><li><a href=#715-مقایسه-با-زبانهای-دیگر>7.1.5 مقایسه با زبان‌های دیگر</a><ul><li><a href=#7151-مقایسه-با-python>7.1.5.1 مقایسه با Python</a></li><li><a href=#7152-مقایسه-با-java>7.1.5.2 مقایسه با Java</a></li><li><a href=#7153-مقایسه-با-javascript--typescript>7.1.5.3 مقایسه با JavaScript / TypeScript</a></li><li><a href=#7154-مقایسه-با-rust>7.1.5.4 مقایسه با Rust</a></li><li><a href=#7155-نتیجهگیری-مقایسه>7.1.5.5 نتیجه‌گیری مقایسه</a></li></ul></li><li><a href=#716-آزمونگر-ایدهآل-گولنگنویس-چرا-باید-تست-بنویسیم>7.1.6 آزمونگر ایده‌آل گولنگ‌نویس: چرا باید تست بنویسیم؟</a><ul><li><a href=#7161-تضمین-رفتار-سیستم>7.1.6.1 تضمین رفتار سیستم</a></li><li><a href=#7162-مستندسازی-زنده>7.1.6.2 مستندسازی زنده</a></li><li><a href=#7163-کاهش-هزینههای-نگهداری>7.1.6.3 کاهش هزینه‌های نگهداری</a></li><li><a href=#7164-ایجاد-فرهنگ-توسعه-حرفهای>7.1.6.4 ایجاد فرهنگ توسعه حرفه‌ای</a></li></ul></li><li><a href=#717-ابزار-go-test-و-نحوه-اجرای-تستها-از-خط-فرمان>7.1.7 ابزار go test و نحوه اجرای تست‌ها از خط فرمان</a><ul><li><a href=#7171-اجرای-ساده-تستها>7.1.7.1 اجرای ساده تست‌ها</a></li><li><a href=#7172-اجرای-انتخابی-تستها-با--run>7.1.7.2 اجرای انتخابی تست‌ها با -run</a></li><li><a href=#7173-تستهای-موازی-و-مدیریت-زمان>7.1.7.3 تست‌های موازی و مدیریت زمان</a></li><li><a href=#7174-سنجش-پوشش-کد-با--cover>7.1.7.4 سنجش پوشش کد با -cover</a></li><li><a href=#7175-اجرای-بنچمارکها-با--bench>7.1.7.5 اجرای بنچمارک‌ها با -bench</a></li><li><a href=#7176-تستهای-فازی-با--fuzz>7.1.7.6 تست‌های فازی با -fuzz</a></li><li><a href=#7177-ترکیبهای-رایج-در-پروژههای-واقعی>7.1.7.7 ترکیب‌های رایج در پروژه‌های واقعی</a></li><li><a href=#7178-حالتهای-اجرای-go-test>7.1.7.8 حالت‌های اجرای go test</a></li><li><a href=#7179-بررسی-race-condition-با-فلگ--race>7.1.7.9 بررسی race condition با فلگ -race</a></li></ul></li></ul></li></ul></nav></div></aside></main><button onclick=topFunction() id=myBtn title="رفتن به بالا" class="fas fa-solid fa-arrow-up"></button>
<script src=prism.js defer></script><script>document.getElementById("currentsv").innerHTML=window.location.href</script><script async>var html=document.documentElement,switcher=document.getElementsByClassName("js-toggle")[0];typeof Storage!="undefined"&&((localStorage.getItem("themeMode")=="dark"||document.documentElement.getAttribute("data-theme")=="dark")&&switcher.classList.add("js-toggle--checked"),switcher.classList.add("js-toggle--focus")),switcher.addEventListener("click",function(){this.classList.toggle("js-toggle--checked"),this.classList.add("js-toggle--focus"),this.classList.contains("js-toggle--checked")?(html.setAttribute("data-theme","dark"),localStorage.setItem("themeMode","dark")):(html.setAttribute("data-theme","light"),localStorage.setItem("themeMode","light"))})</script><script>let mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=/js/playground.js defer></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js defer></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-go.min.js defer></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js defer></script><script>"serviceWorker"in navigator&&window.addEventListener("DOMContentLoaded",function(){navigator.serviceWorker.register("/sw.js")})</script></body></html>